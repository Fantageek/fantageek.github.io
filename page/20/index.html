
 <!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  
    <title>Fantageek</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Khoa Pham">
    

    
    <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Fantageek">
<meta property="og:url" content="http://www.fantageek.com/page/20/index.html">
<meta property="og:site_name" content="Fantageek">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fantageek">
<meta name="twitter:description">
<meta name="twitter:creator" content="@onmyway133">

    
    <link rel="alternative" href="/atom.xml" title="Fantageek" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Fantageek" title="Fantageek"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Fantageek">Fantageek</a></h1>
				<h2 class="blog-motto">Simple apps that make sense</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:www.fantageek.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2012/12/25/wp7-development-tips/" title="WP7 development tips" itemprop="url">WP7 development tips</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2012-12-25T00:50:03.000Z" itemprop="datePublished"> Published 2012-12-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Welcome back, today I will start writing all stuff, all the secret I ‘ve revealed when developing for Windows Phone 7.  </p>
        
        
        <p class="article-more-link">
          
            <a href="/blog/2012/12/25/wp7-development-tips/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Windows-Phone/">Windows Phone</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/wp7/">wp7</a><a href="/tags/development/">development</a><a href="/tags/secret/">secret</a><a href="/tags/tips/">tips</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2012/12/25/wp7-development-tips/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2012/12/23/wp7-general-resource-collection/" title="WP7 general resource collection" itemprop="url">WP7 general resource collection</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2012-12-23T15:07:57.000Z" itemprop="datePublished"> Published 2012-12-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>When developing my Windows Phone 7 application, I found many useful articles and websites. And this is the time to share. Note that books will be covered in another article :)</p>
        
        
        <p class="article-more-link">
          
            <a href="/blog/2012/12/23/wp7-general-resource-collection/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Windows-Phone/">Windows Phone</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/wp7/">wp7</a><a href="/tags/collection/">collection</a><a href="/tags/general/">general</a><a href="/tags/resource/">resource</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2012/12/23/wp7-general-resource-collection/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2012/12/22/wp7-how-to-deal-with-slider-s-strange-behavior/" title="WP7 how to deal with slider &#39;s strange behavior" itemprop="url">WP7 how to deal with slider &#39;s strange behavior</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2012-12-22T16:36:56.000Z" itemprop="datePublished"> Published 2012-12-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Sometimes the slider in your   app can be dragged for very short range. Don’t panic, as this strange behavior is caused by using toolkit GestureListener incorrectly.</p>
<p>The solution is disable Gesture listener when starting dragging slider, then enable Gesture when not dragging slider anymore.</p>
<p>The XAML part</p>
<p>[sourcecode language=”csharp”]  </p>
<slider height="84" name="fixedSlider" manipulationstarted="disableGestures" manipulationcompleted="restoreGestures">  

<p>[/sourcecode]</p>
<p>The code behind</p>
<p>[sourcecode language=”csharp”]  </p>
<p>GestureType prevGestureType;  </p>
<p>private void disableGestures(object sender, ManipulationStartedEventArgs e)  </p>
<p>{  </p>
<pre><code>prevGestureType = TouchPanel.EnabledGestures;  

TouchPanel.EnabledGestures = GestureType.None;  

fixedSlider.IsHitTestVisible = false;  
</code></pre><p>}</p>
<p>private void restoreGestures(object sender, ManipulationCompletedEventArgs e)  </p>
<p>{  </p>
<pre><code>TouchPanel.EnabledGestures = prevGestureType;  
</code></pre><p>}  </p>
<p>[/sourcecode]</p>
<p><strong>Reference</strong>  </p>
<ol>
<li><a href="http://stackoverflow.com/questions/13342825/wp7-slider-strange-behavior" target="_blank" rel="external">http://stackoverflow.com/questions/13342825/wp7-slider-strange-behavior</a></li>
</ol>
</slider>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Windows-Phone/">Windows Phone</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/wp7/">wp7</a><a href="/tags/behavior/">behavior</a><a href="/tags/gesture/">gesture</a><a href="/tags/slider/">slider</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2012/12/22/wp7-how-to-deal-with-slider-s-strange-behavior/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2012/12/22/wp7-how-to-open-g-i-s-file-in-visual-studio-2010/" title="WP7 How to open g.i.cs file in Visual Studio 2010" itemprop="url">WP7 How to open g.i.cs file in Visual Studio 2010</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2012-12-22T16:09:22.000Z" itemprop="datePublished"> Published 2012-12-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>In Windows Phone 7 , the g.i.cs file is where UI objects are defined and fetched from XAML.</p>
        
        
        <p class="article-more-link">
          
            <a href="/blog/2012/12/22/wp7-how-to-open-g-i-s-file-in-visual-studio-2010/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Windows-Phone/">Windows Phone</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/wp7/">wp7</a><a href="/tags/open/">open</a><a href="/tags/file/">file</a><a href="/tags/g-i-s/">g.i.s</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2012/12/22/wp7-how-to-open-g-i-s-file-in-visual-studio-2010/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2012/12/21/strange-avd-with-hw-ramsize/" title="Strange AVD with hw.ramSize" itemprop="url">Strange AVD with hw.ramSize</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2012-12-21T14:32:13.000Z" itemprop="datePublished"> Published 2012-12-21</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Today, after a peaceful 2012 Dec 21st, I go on with my Android robo :)</p>
<p>Use AVD (Android virtual device) for a long time, but the strange error happens every time I set up a new AVD.</p>
<p>The situation is that, I create a Nexus 7 AVD with 1GB RAM (other specs are normal and not concerned here). It is created normally, but when I start it, one error message is shown from the emulator-arm.exe.</p>
        
        
        <p class="article-more-link">
          
            <a href="/blog/2012/12/21/strange-avd-with-hw-ramsize/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Android/">Android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/android/">android</a><a href="/tags/avd/">avd</a><a href="/tags/ramsize/">ramsize</a><a href="/tags/strange/">strange</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2012/12/21/strange-avd-with-hw-ramsize/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2012/12/17/some-famous-directory-to-submit-your-site-to/" title="Some famous directories to submit your site to" itemprop="url">Some famous directories to submit your site to</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2012-12-17T16:03:25.000Z" itemprop="datePublished"> Published 2012-12-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>For those of you who start building a new website, it is necessary to submit to some famous directories and search engines, so that people can know you easily. Here are some sites</p>
        
        
        <p class="article-more-link">
          
            <a href="/blog/2012/12/17/some-famous-directory-to-submit-your-site-to/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Miscellaneous/">Miscellaneous</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/directory/">directory</a><a href="/tags/search-engine/">search engine</a><a href="/tags/site/">site</a><a href="/tags/submit/">submit</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2012/12/17/some-famous-directory-to-submit-your-site-to/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2012/12/17/how-to-disable-auto-merging-in-tortoise-svn/" title="How to disable auto merging in Tortoise SVN" itemprop="url">How to disable auto merging in Tortoise SVN</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2012-12-17T01:37:22.000Z" itemprop="datePublished"> Published 2012-12-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>There is time we don’t want the auto merging in TortoiseSVN. Here is the trick</p>
        
        
        <p class="article-more-link">
          
            <a href="/blog/2012/12/17/how-to-disable-auto-merging-in-tortoise-svn/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Others/">Others</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/auto/">auto</a><a href="/tags/disable/">disable</a><a href="/tags/merge/">merge</a><a href="/tags/svn/">svn</a><a href="/tags/tortoise/">tortoise</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2012/12/17/how-to-disable-auto-merging-in-tortoise-svn/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2012/12/12/cool-theme/" title="Cool theme?" itemprop="url">Cool theme?</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2012-12-12T16:59:31.000Z" itemprop="datePublished"> Published 2012-12-12</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Can you see that??</p>
<p>:D</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Miscellaneous/">Miscellaneous</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2012/12/12/cool-theme/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2012/12/12/wp7-how-to-create-marquee-textblock/" title="WP7 how to create marquee TextBlock" itemprop="url">WP7 how to create marquee TextBlock</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2012-12-12T09:47:14.000Z" itemprop="datePublished"> Published 2012-12-12</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>I created this article 1 year ago and didn’t have time to write it. Now I write it but with little explanation, if you still does not understand, maybe you should read my source code<br>Last year, I was in need of a marquee TextBlock that can performs auto scrolling, I’ve found<br><a href="http://andrewbrobinson.com/2012/07/14/simple-marquees-in-windows-phone/" target="_blank" rel="external">http://andrewbrobinson.com/2012/07/14/simple-marquees-in-windows-phone/</a><br><a href="http://silverlightmarquee.codeplex.com/" target="_blank" rel="external">http://silverlightmarquee.codeplex.com/</a><br>But they didn’t seem to fit my need, so I then created my own <strong>MarqueeTextBlock</strong></p>
<h2 id="THE-IDEA"><a href="#THE-IDEA" class="headerlink" title="THE IDEA"></a>THE IDEA</h2><ol>
<li>Create as a UserControl so it can be reused</li>
<li>Use Storyboard to perform translation animation because Storyboard is handled by GPU</li>
<li>Use Canvas to clip text when it goes out of this UserControl</li>
</ol>
<h2 id="WHAT-WILL-WE-ACHIEVE"><a href="#WHAT-WILL-WE-ACHIEVE" class="headerlink" title="WHAT WILL WE ACHIEVE"></a>WHAT WILL WE ACHIEVE</h2><p><img src="http://fantageek.com/images/2012/12/marquee_textblock-200x140.png" alt="marquee_textblock"></p>
<p>The source code is available on<br> <a href="https://github.com/onmyway133/MarqueeTextBlock" target="_blank" rel="external">Github</a></p>
<h3 id="CREATING-MARQUEE-TEXBLOCK"><a href="#CREATING-MARQUEE-TEXBLOCK" class="headerlink" title="CREATING MARQUEE TEXBLOCK"></a>CREATING MARQUEE TEXBLOCK</h3><p>Right click on your project, choose Add -&gt; New Item -&gt; Windows Phone User Control and name it MarqueeTextBlock</p>
<h2 id="DESIGNING-MarqueeTextBlock-xaml"><a href="#DESIGNING-MarqueeTextBlock-xaml" class="headerlink" title="DESIGNING MarqueeTextBlock.xaml"></a>DESIGNING MarqueeTextBlock.xaml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Grid</span> <span class="attr">x:Name</span>=<span class="string">"LayoutRoot"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Canvas</span> <span class="attr">x:Name</span>=<span class="string">"canvas"</span> <span class="attr">Background</span>=<span class="string">"Transparent"</span> <span class="attr">Width</span>=<span class="string">"&#123;Binding Width&#125;"</span> <span class="attr">Height</span>=<span class="string">"&#123;Binding Height&#125;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Canvas.Clip</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">RectangleGeometry</span> <span class="attr">RadiusX</span>=<span class="string">"5"</span> <span class="attr">RadiusY</span>=<span class="string">"5"</span> <span class="attr">Rect</span>=<span class="string">"0, 0, 200, 100"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Canvas.Clip</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextBlock</span> <span class="attr">x:Name</span>=<span class="string">"textBlock1"</span></span><br><span class="line">                       <span class="attr">Height</span>=<span class="string">"&#123;Binding Height&#125;"</span></span><br><span class="line">                       <span class="attr">Width</span>=<span class="string">"Auto"</span></span><br><span class="line">                       <span class="attr">TextWrapping</span>=<span class="string">"NoWrap"</span></span><br><span class="line">                       <span class="attr">Foreground</span>=<span class="string">"&#123;Binding Foreground&#125;"</span></span><br><span class="line">                       <span class="attr">Text</span>=<span class="string">"&#123;Binding Text&#125;"</span>     </span><br><span class="line">                       <span class="attr">FontSize</span>=<span class="string">"&#123;Binding MFontSize&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Grid</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Here we use Canvas and RectangleGeometry to define the clipping area dynamically. For more info, see <a href="http://stackoverflow.com/questions/3732396/dynamic-clipping-width-in-silverlight-within-canvas" target="_blank" rel="external">Dynamic Clipping Width in Silverlight Within Canvas</a><br>The MFontSize is an additional dependency property that allows user to specify font size<br>Remember to set TextWrapping to NoWrap</p>
<h3 id="WORKING-WITH-MarqueeTextBlock-xaml-cs"><a href="#WORKING-WITH-MarqueeTextBlock-xaml-cs" class="headerlink" title="WORKING WITH MarqueeTextBlock.xaml.cs"></a>WORKING WITH MarqueeTextBlock.xaml.cs</h3><p>We have isLoaded to keep track of whether our control is loaded or not. We can’t do marquee until control is fully loaded. To achieve this, we handle 2 events</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MarqueeTextBlock_Unloaded</span>(<span class="params"><span class="keyword">object</span> sender, RoutedEventArgs e</span>)</span><br><span class="line">        </span>&#123;</span><br><span class="line">            <span class="comment">// stop marquee when control is unloaded</span></span><br><span class="line">            StopMarquee();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>We simply stop marquee then the control is unloaded :)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">void MarqueeTextBlock_Loaded(object sender, RoutedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            if (!isLoaded)</span><br><span class="line">            &#123;</span><br><span class="line">                // control is loaded</span><br><span class="line">                isLoaded = true;</span><br><span class="line">                LayoutRoot.DataContext = this;</span><br><span class="line">                // resize the clipping</span><br><span class="line">                Rect rect = new Rect(0, 0, canvas.ActualWidth, canvas.ActualHeight);</span><br><span class="line">                RectangleGeometry reo = new RectangleGeometry();</span><br><span class="line">                reo.Rect = rect;</span><br><span class="line">                this.canvas.Clip = reo;</span><br><span class="line">                // always vertical alignment</span><br><span class="line">                ChangeOffsetTop();</span><br><span class="line">                // this is OK for marquee to start</span><br><span class="line">                StartMarquee();</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                // just run it, after user come to this page again</span><br><span class="line">                StartMarquee();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>We set the text and font size by setting the DataContext. We then resize clipping area according to canvas ‘s size. We use ChangeOffsetTop to let the text centers vertically inside our control. If all goes well, the control “should” start marquee.<br>I say “should” because we only need to marquee if our text is longer than the available view</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ShouldStartMarquee</span>(<span class="params"></span>)</span><br><span class="line">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> textBlock1.ActualWidth &gt; LayoutRoot.ActualWidth;</span><br><span class="line">        &#125;</span><br><span class="line">[/code]</span><br><span class="line">Finally, <span class="function">the core method <span class="keyword">is</span> <span class="title">StartMarquee</span>(<span class="params"></span>)</span><br><span class="line">[code language</span>=<span class="string">"csharp"</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StartMarquee</span>(<span class="params"></span>)</span><br><span class="line">        </span>&#123;</span><br><span class="line">            <span class="comment">// first stop all marquee</span></span><br><span class="line">            StopMarquee();</span><br><span class="line">            <span class="keyword">if</span> (ShouldStartMarquee())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// change offset</span></span><br><span class="line">                ChangeOffsetLeft(<span class="literal">true</span>);</span><br><span class="line">                DoAnimationFirst();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// change offset</span></span><br><span class="line">                ChangeOffsetLeft(<span class="literal">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>We ought to stop marquee before starting again. And in order to achieve better visual effect, we call ChangeOffetLeft to set the text initial left position. You can change this through the offset and defaultOffset variables. Thanks for the post <a href="http://stackoverflow.com/questions/4342743/unable-to-position-rectangle-in-canvas-in-silverlight-4" target="_blank" rel="external">Unable to position Rectangle in Canvas in Silverlight 4</a></p>
<p>The animation is done using Storyboard via 2 methods<br>The DoAnimationFirst() is used to translate the text from the initial position to the far left, then the DoAnimationAfter() is used to translate the text from the far right to the right edge of the canvas, so that the text can be translated to the left again. This loops forever until the control is unloaded or user explicitly calls StopMarquee()</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DoAnimationFirst</span>(<span class="params"></span>)</span><br><span class="line">        </span>&#123;</span><br><span class="line">            storyboard = <span class="keyword">new</span> Storyboard();</span><br><span class="line">            TranslateTransform trans = <span class="keyword">new</span> TranslateTransform() &#123; X = <span class="number">5.0</span>, Y = <span class="number">1.0</span> &#125;;</span><br><span class="line">            textBlock1.RenderTransformOrigin = <span class="keyword">new</span> Point(<span class="number">0.5</span>, <span class="number">0.5</span>);</span><br><span class="line">            textBlock1.RenderTransform = trans;</span><br><span class="line">            <span class="comment">// we must calculate the Duration</span></span><br><span class="line">            DoubleAnimation moveAnim = <span class="keyword">new</span> DoubleAnimation();</span><br><span class="line">            <span class="keyword">int</span> durationFirst = CalculateDurationFirst();</span><br><span class="line">            moveAnim.Duration = TimeSpan.FromMilliseconds(durationFirst);</span><br><span class="line">            moveAnim.From = <span class="number">0</span>;</span><br><span class="line">            moveAnim.To = -textBlock1.ActualWidth - offset;</span><br><span class="line">            Storyboard.SetTarget(moveAnim, textBlock1);</span><br><span class="line">            Storyboard.SetTargetProperty(moveAnim, <span class="keyword">new</span> PropertyPath(<span class="string">"(UIElement.RenderTransform).(TranslateTransform.X)"</span>));</span><br><span class="line">            <span class="comment">// subscribe to Completed event</span></span><br><span class="line">            storyboard.Completed += <span class="keyword">new</span> EventHandler(storyboard_Completed);</span><br><span class="line">            storyboard.Children.Add(moveAnim);</span><br><span class="line">            storyboard.FillBehavior = FillBehavior.HoldEnd;</span><br><span class="line">            storyboard.Begin();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DoAnimationAfter</span>(<span class="params"></span>)</span><br><span class="line">        </span>&#123;</span><br><span class="line">            storyboard = <span class="keyword">new</span> Storyboard();</span><br><span class="line">            TranslateTransform trans = <span class="keyword">new</span> TranslateTransform() &#123; X = <span class="number">5.0</span>, Y = <span class="number">1.0</span> &#125;;</span><br><span class="line">            textBlock1.RenderTransformOrigin = <span class="keyword">new</span> Point(<span class="number">0.5</span>, <span class="number">0.5</span>);</span><br><span class="line">            textBlock1.RenderTransform = trans;</span><br><span class="line">            <span class="comment">// we must calculate the Duration</span></span><br><span class="line">            DoubleAnimation moveAnim = <span class="keyword">new</span> DoubleAnimation();</span><br><span class="line">            <span class="keyword">int</span> durationAfter = CalculateDurationAfter();</span><br><span class="line">            moveAnim.Duration = TimeSpan.FromMilliseconds(durationAfter);</span><br><span class="line">            moveAnim.From = canvas.ActualWidth;</span><br><span class="line">            moveAnim.To = -textBlock1.ActualWidth - offset;</span><br><span class="line">            Storyboard.SetTarget(moveAnim, textBlock1);</span><br><span class="line">            Storyboard.SetTargetProperty(moveAnim, <span class="keyword">new</span> PropertyPath(<span class="string">"(UIElement.RenderTransform).(TranslateTransform.X)"</span>));</span><br><span class="line">            storyboard.Children.Add(moveAnim);</span><br><span class="line">            storyboard.RepeatBehavior = RepeatBehavior.Forever;</span><br><span class="line">            storyboard.FillBehavior = FillBehavior.HoldEnd;</span><br><span class="line">            storyboard.Begin();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>I left the CalculateDurationFirst() and CalculateDurationAfter() so you can tweak it to your own desire<br>Stopping marquee is just a step with stopping the Storyboard</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StopMarquee</span>(<span class="params"></span>)</span><br><span class="line">        </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (storyboard != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                storyboard.Stop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<h2 id="USING-MARQUEE-TEXTBLOCK"><a href="#USING-MARQUEE-TEXTBLOCK" class="headerlink" title="USING MARQUEE TEXTBLOCK"></a>USING MARQUEE TEXTBLOCK</h2><p>You can declare MarqueeTextBlock in your xaml like this</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">entropy:MarqueeTextBlock</span> <span class="attr">x:Name</span>=<span class="string">"marquee1"</span></span><br><span class="line">                                          <span class="attr">Text</span>=<span class="string">"This is a very long text"</span></span><br><span class="line">                                          <span class="attr">MFontSize</span>=<span class="string">"30"</span></span><br><span class="line">                                          <span class="attr">Width</span>=<span class="string">"230"</span></span><br><span class="line">                                          <span class="attr">Height</span>=<span class="string">"80"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>with xmlns:entropy=”clr-namespace:DemoMarqueeTextBlock” is a custom xmlns that targets your application namespace<br>Then call StartMarquee() or StopMarquee() to toggle marquee</p>
<p>P/S: I haven’t tried this on Windows Phone 8, I think it should run fine, too :)</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Windows-Phone/">Windows Phone</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/wp7/">wp7</a><a href="/tags/canvas/">canvas</a><a href="/tags/marquee/">marquee</a><a href="/tags/storyboard/">storyboard</a><a href="/tags/textblock/">textblock</a><a href="/tags/windows-phone/">windows phone</a><a href="/tags/wp8/">wp8</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2012/12/12/wp7-how-to-create-marquee-textblock/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2012/12/12/wp7-how-to-perform-real-time-filter-on-listbox/" title="WP7 how to perform real time filter on ListBox" itemprop="url">WP7 how to perform real time filter on ListBox</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2012-12-12T02:02:30.000Z" itemprop="datePublished"> Published 2012-12-12</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Coming soon  …</p>
<p>set items source in batch</p>
<p>thread lock</p>
<p>sleep properly</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Windows-Phone/">Windows Phone</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/wp7/">wp7</a><a href="/tags/filter/">filter</a><a href="/tags/real-time/">real time</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2012/12/12/wp7-how-to-perform-real-time-filter-on-listbox/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/19/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="page-number" href="/page/19/">19</a><span class="page-number current">20</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/21/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github Card</p>
<div class="github-card" data-github="onmyway133" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java-Script/" title="Java Script">Java Script<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Life/" title="Life">Life<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Miscellaneous/" title="Miscellaneous">Miscellaneous<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Mobile-Labs/" title="Mobile Labs">Mobile Labs<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Others/" title="Others">Others<sup>26</sup></a></li>
		  
		
		  
			<li><a href="/categories/Programming/" title="Programming">Programming<sup>10</sup></a></li>
		  
		
		  
			<li><a href="/categories/Others/Windows-8/" title="Windows 8">Windows 8<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-8/" title="Windows 8">Windows 8<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-Phone/" title="Windows Phone">Windows Phone<sup>12</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-8/Windows-Phone/" title="Windows Phone">Windows Phone<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS<sup>85</sup></a></li>
		  
		
		  
			<li><a href="/categories/programming/" title="programming">programming<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/ios/" title="ios">ios<sup>21</sup></a></li>
			
		
			
				<li><a href="/tags/wp7/" title="wp7">wp7<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/tutorial/" title="tutorial">tutorial<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/mac-osx/" title="mac osx">mac osx<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/wp8/" title="wp8">wp8<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/convert/" title="convert">convert<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/windows-8/" title="windows 8">windows 8<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C">C<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/android/" title="android">android<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/disable/" title="disable">disable<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/view-controller/" title="view controller">view controller<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/voip/" title="voip">voip<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/programming/" title="programming">programming<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/xcode/" title="xcode">xcode<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/file/" title="file">file<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/openssl/" title="openssl">openssl<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/visual-studio/" title="visual studio">visual studio<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/build/" title="build">build<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/project/" title="project">project<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/facebook/" title="facebook">facebook<sup>3</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> A dream is not a dream anymore when you don&#39;t have time for it <br/>
			What you don&#39;t know is what you haven&#39;t learned</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/onmyway133" target="_blank" class="icon-github" title="github"></a>
		
		
		<a href="http://stackoverflow.com/users/1418457/onmyway133" target="_blank" class="icon-stack-overflow" title="stackoverflow"></a>
		
		
		<a href="https://twitter.com/onmyway133" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		
		
		
		
		
		<a href="mailto:onmyway133@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="Khoa Pham">Khoa Pham</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-40119591-1', 'fantageek.com');  
ga('send', 'pageview');
</script>





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
