
 <!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  
    <title>Fantageek</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Khoa Pham">
    

    
    <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Fantageek">
<meta property="og:url" content="http://www.fantageek.com/page/7/index.html">
<meta property="og:site_name" content="Fantageek">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fantageek">
<meta name="twitter:description">
<meta name="twitter:creator" content="@onmyway133">

    
    <link rel="alternative" href="/atom.xml" title="Fantageek" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Fantageek" title="Fantageek"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Fantageek">Fantageek</a></h1>
				<h2 class="blog-motto">Simple apps that make sense</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:www.fantageek.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2015/06/18/understanding-afnetworking-error/" title="Understanding AFNetworking - Error" itemprop="url">Understanding AFNetworking - Error</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-06-18T14:33:39.000Z" itemprop="datePublished"> Published 2015-06-18</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>When using AFNetworking, I want to get the status code in case of failure</p>
<h2 id="NSError-in-failure-block"><a href="#NSError-in-failure-block" class="headerlink" title="NSError in failure block"></a>NSError in failure block</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">AFHTTPSessionManager *sessionManager = [AFHTTPSessionManager manager];</span><br><span class="line">    [sessionManager GET:<span class="string">@""</span> parameters:<span class="literal">nil</span> success:^(<span class="built_in">NSURLSessionDataTask</span> *task, <span class="keyword">id</span> responseObject) &#123;</span><br><span class="line"></span><br><span class="line">    &#125; failure:^(<span class="built_in">NSURLSessionDataTask</span> *task, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, error);</span><br><span class="line">    &#125;];</span><br></pre></td></tr></table></figure>
<p>The <code>error.code</code> is not the HTTP status code, it is <code>NSError</code> that AFNetworking creates due to serializer error</p>
<h2 id="How-AFNetworking-creates-NSError"><a href="#How-AFNetworking-creates-NSError" class="headerlink" title="How AFNetworking creates NSError"></a>How AFNetworking creates NSError</h2><h3 id="AFURLSessionManager-m"><a href="#AFURLSessionManager-m" class="headerlink" title="AFURLSessionManager.m"></a>AFURLSessionManager.m</h3><p>In <code>URLSession:task:didCompleteWithError:</code></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSError</span> *serializationError = <span class="literal">nil</span>;</span><br><span class="line">            responseObject = [manager.responseSerializer responseObjectForResponse:task.response data:[<span class="built_in">NSData</span> dataWithData:<span class="keyword">self</span>.mutableData] error:&amp;serializationError];</span><br></pre></td></tr></table></figure>
<h3 id="AFErrorWithUnderlyingError"><a href="#AFErrorWithUnderlyingError" class="headerlink" title="AFErrorWithUnderlyingError"></a>AFErrorWithUnderlyingError</h3><p>This is called in <code>validateResponse:data:error:</code> and <code>responseObjectForResponse:data:error</code> of  <code>AFURLResponseSerialization</code> classes</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="built_in">NSError</span> * AFErrorWithUnderlyingError(<span class="built_in">NSError</span> *error, <span class="built_in">NSError</span> *underlyingError) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!error) &#123;</span><br><span class="line">        <span class="keyword">return</span> underlyingError;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!underlyingError || error.userInfo[<span class="built_in">NSUnderlyingErrorKey</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> error;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSMutableDictionary</span> *mutableUserInfo = [error.userInfo mutableCopy];</span><br><span class="line">    mutableUserInfo[<span class="built_in">NSUnderlyingErrorKey</span>] = underlyingError;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [[<span class="built_in">NSError</span> alloc] initWithDomain:error.domain code:error.code userInfo:mutableUserInfo];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Error-Domain"><a href="#Error-Domain" class="headerlink" title="Error Domain"></a>Error Domain</h3><p>In <code>AFURLResponseSerialization.h</code></p>
<blockquote><br>  Error codes for <code>AFURLResponseSerializationErrorDomain</code> correspond to codes in <code>NSURLErrorDomain</code>.<br></blockquote>



<p>For example<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">validationError = AFErrorWithUnderlyingError([<span class="built_in">NSError</span> errorWithDomain:AFURLResponseSerializationErrorDomain code:<span class="built_in">NSURLErrorCannotDecodeContentData</span> userInfo:mutableUserInfo], validationError);</span><br></pre></td></tr></table></figure></p>
<h2 id="HTTP-Status-code"><a href="#HTTP-Status-code" class="headerlink" title="HTTP Status code"></a>HTTP Status code</h2><h3 id="Inspect-userInfo-of-NSError"><a href="#Inspect-userInfo-of-NSError" class="headerlink" title="Inspect userInfo of NSError"></a>Inspect userInfo of NSError</h3><p>The NSError userInfo contains <code>AFNetworkingOperationFailingURLResponseErrorKey</code> and <code>AFNetworkingOperationFailingURLResponseDataErrorKey</code> that we can inspect to get NSURLResponse and NSData</p>
<h3 id="Replace-NSError"><a href="#Replace-NSError" class="headerlink" title="Replace NSError"></a>Replace NSError</h3><p>Sometimes we don’t care about <code>NSURLErrorDomain</code>, we can get HTTP Status Code from NSURResponse and replace the code in the NSError</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSURLSessionDataTask</span> *task = [<span class="keyword">self</span>.manager dataTaskWithRequest:request</span><br><span class="line">                                                     completionHandler:^(<span class="built_in">NSURLResponse</span> *response, <span class="keyword">id</span> responseObject, <span class="built_in">NSError</span> *error)</span><br><span class="line">                                      &#123;</span><br><span class="line">                                         <span class="keyword">if</span> (error) &#123;</span><br><span class="line">                                             error = [<span class="keyword">self</span> errorFromError:error</span><br><span class="line">                                                           responseObject:responseObject</span><br><span class="line">                                                                 response:response];</span><br><span class="line">                                              [subscriber sendError:error];</span><br><span class="line">                                          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                              [subscriber sendNext:responseObject];</span><br><span class="line">                                              [subscriber sendCompleted];</span><br><span class="line">                                          &#125;</span><br><span class="line">                                      &#125;];</span><br><span class="line">- (<span class="built_in">NSError</span> *)errorFromError:(<span class="built_in">NSError</span> *)error</span><br><span class="line">             responseObject:(<span class="keyword">id</span>)responseObject</span><br><span class="line">                   response:(<span class="built_in">NSURLResponse</span> *)response &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSMutableDictionary</span> *userInfo = [<span class="built_in">NSMutableDictionary</span> dictionaryWithDictionary:error.userInfo];</span><br><span class="line">    <span class="keyword">if</span> (responseObject) &#123;</span><br><span class="line">        userInfo[kNetworkProviderResponseObjectKey] = responseObject;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSInteger</span> HTTPStatusCode = error.code;</span><br><span class="line">    <span class="keyword">if</span> (response) &#123;</span><br><span class="line">        <span class="keyword">if</span> ([response isKindOfClass:[<span class="built_in">NSHTTPURLResponse</span> class]]) &#123;</span><br><span class="line">            <span class="built_in">NSHTTPURLResponse</span> *HTTPResponse = (<span class="keyword">id</span>)response;</span><br><span class="line">            HTTPStatusCode = HTTPResponse.statusCode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        HTTPStatusCode = <span class="number">408</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSError</span> errorWithDomain:error.domain code:HTTPStatusCode userInfo:userInfo];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><a href="http://www.osstatus.com/" target="_blank" rel="external">OSStatus</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/iOS/">iOS</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2015/06/18/understanding-afnetworking-error/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2015/06/18/understanding-afnetworking-block/" title="Understanding AFNetworking - Block" itemprop="url">Understanding AFNetworking - Block</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-06-18T14:31:04.000Z" itemprop="datePublished"> Published 2015-06-18</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Hi, in this AFNetworking gotcha series, I’ll share something I learn about AFNetworking and remind you of some properties you may overlook</p>
        
        
        <p class="article-more-link">
          
            <a href="/blog/2015/06/18/understanding-afnetworking-block/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/iOS/">iOS</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2015/06/18/understanding-afnetworking-block/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2015/06/18/understanding-afnetworking-operation/" title="Understanding AFNetworking - Operation" itemprop="url">Understanding AFNetworking - Operation</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-06-18T14:30:27.000Z" itemprop="datePublished"> Published 2015-06-18</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Hi, in this AFNetworking gotcha series, I’ll share something I learn about AFNetworking and remind you of some properties you may overlook</p>
<h4 id="AFHTTPRequestOperation-is-an-NSOperation"><a href="#AFHTTPRequestOperation-is-an-NSOperation" class="headerlink" title="AFHTTPRequestOperation is an NSOperation"></a>AFHTTPRequestOperation is an NSOperation</h4><p>Take a look at AFURLConnectionOperation.m and its overridden “start” method, you ‘ll learn how AFNetworking starts an NSURLConnection. The same holds true for NSURLSession</p>
        
        
        <p class="article-more-link">
          
            <a href="/blog/2015/06/18/understanding-afnetworking-operation/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/iOS/">iOS</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2015/06/18/understanding-afnetworking-operation/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2015/06/18/understanding-afnetworking-cache/" title="Understanding AFNetworking - Cache" itemprop="url">Understanding AFNetworking - Cache</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-06-18T14:29:19.000Z" itemprop="datePublished"> Published 2015-06-18</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="Caching"><a href="#Caching" class="headerlink" title="Caching"></a>Caching</h2><p>I’m talking about <code>AFHTTPSessionManager</code>, but the same applies to <code>AFHTTPRequestOperationManager</code>. AFNetworking is just a wrapper around <code>AFURLSession</code> and <code>AFURLConnection</code>, and uses <code>NSURLCache</code> to make caching happen</p>
<h3 id="Does-AFNetworking-cache"><a href="#Does-AFNetworking-cache" class="headerlink" title="Does AFNetworking cache"></a>Does AFNetworking cache</h3><p>AFNetworking only uses NSCache for caching images, as implemented in AFImageCache. Read more <a href="http://blog.originate.com/blog/2014/02/20/afimagecache-vs-nsurlcache/" target="_blank" rel="external">How Does Caching Work in AFNetworking? : AFImageCache &amp; NSUrlCache Explained</a></p>
<h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><p>We often usage <code>AFHTTPSessionManager</code> like this<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[AFHTTPSessionManager manager]</span><br></pre></td></tr></table></figure></p>
<p>Which is using default session configuration<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (instancetype)initWithSessionConfiguration:(<span class="built_in">NSURLSessionConfiguration</span> *)configuration &#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!configuration) &#123;</span><br><span class="line">        configuration = [<span class="built_in">NSURLSessionConfiguration</span> defaultSessionConfiguration];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.sessionConfiguration = configuration;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="NSURLSessionConfiguration"><a href="#NSURLSessionConfiguration" class="headerlink" title="NSURLSessionConfiguration"></a>NSURLSessionConfiguration</h3><p>The <code>defaultSessionConfiguration</code> has 2 cache properties</p>
<h4 id="URLCache"><a href="#URLCache" class="headerlink" title="URLCache"></a>URLCache</h4><blockquote><br>  The URL cache for providing cached responses to requests within the session.<br><br>  This property determines the URL cache object used by tasks within sessions based on this configuration.<br>  To disable caching, set this property to nil.<br>  For default sessions, the default value is the shared URL cache object.<br>  For background sessions, the default value is nil.<br>  For ephemeral sessions, the default value is a private cache object that stores data in memory only, and is destroyed when you invalidate the session.<br></blockquote>





<h4 id="requestCachePolicy"><a href="#requestCachePolicy" class="headerlink" title="requestCachePolicy"></a>requestCachePolicy</h4><blockquote><br>  A predefined constant that determines when to return a response from the cache.<br><br>  This property determines the request caching policy used by tasks within sessions based on this configuration.<br>  Set this property to one of the constants defined in NSURLRequestCachePolicy to specify whether the cache policy should depend on expiration dates and age, whether the cache should be disabled entirely, and whether the server should be contacted to determine if the content has changed since it was last requested.<br>  The default value is NSURLRequestUseProtocolCachePolicy.<br></blockquote>





<h3 id="dataTaskWillCacheResponse"><a href="#dataTaskWillCacheResponse" class="headerlink" title="dataTaskWillCacheResponse"></a>dataTaskWillCacheResponse</h3><blockquote><br>  Sets a block to be executed to determine the caching behavior of a data task<br></blockquote>



<p>AFNetworking uses this block as a chance to us to intercept to the response</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)URLSession:(<span class="built_in">NSURLSession</span> *)session</span><br><span class="line">          dataTask:(<span class="built_in">NSURLSessionDataTask</span> *)dataTask</span><br><span class="line"> willCacheResponse:(<span class="built_in">NSCachedURLResponse</span> *)proposedResponse</span><br><span class="line"> completionHandler:(<span class="keyword">void</span> (^)(<span class="built_in">NSCachedURLResponse</span> *cachedResponse))completionHandler</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSCachedURLResponse</span> *cachedResponse = proposedResponse;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.dataTaskWillCacheResponse) &#123;</span><br><span class="line">        cachedResponse = <span class="keyword">self</span>.dataTaskWillCacheResponse(session, dataTask, proposedResponse);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (completionHandler) &#123;</span><br><span class="line">        completionHandler(cachedResponse);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Reading <code>URLSession:dataTask:willCacheResponse:completionHandler</code> tells us that</p>
<blockquote><br>  The session calls this delegate method after the task finishes receiving all of the expected data. If you do not implement this method, the default behavior is to use the caching policy specified in the session’s configuration object. The primary purpose of this method is to prevent caching of specific URLs or to modify the userInfo dictionary associated with the URL response.<br><br>  The session calls this delegate method after the task finishes receiving all of the expected data. If you do not implement this method, the default behavior is to use the caching policy specified in the session’s configuration object. The primary purpose of this method is to prevent caching of specific URLs or to modify the userInfo dictionary associated with the URL response.<br>  - This method is called only if the NSURLProtocol handling the request decides to cache the response. As a rule, responses are cached only when all of the following are true:<br>  - The request is for an HTTP or HTTPS URL (or your own custom networking protocol that supports caching).<br>  - The request was successful (with a status code in the 200–299 range).<br>  - The provided response came from the server, rather than out of the cache.<br>  - The session configuration’s cache policy allows caching.<br>  - The provided NSURLRequest object’s cache policy (if applicable) allows caching.<br>  - The cache-related headers in the server’s response (if present) allow caching.<br>  - The response size is small enough to reasonably fit within the cache. (For example, if you provide a disk cache, the response must be no larger than about 5% of the disk cache size.)<br></blockquote>





<h3 id="How-to-prevent-caching"><a href="#How-to-prevent-caching" class="headerlink" title="How to prevent caching"></a>How to prevent caching</h3><p>We can prevent caching by either</p>
<ol>
<li>Implement <code>dataTaskWillCacheResponse</code> and return nil</li>
<li>Set <code>requestCachePolicy</code> to <code>NSURLRequestReloadIgnoringLocalCacheData</code><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AFHTTPSessionManager *sessionManager = [AFHTTPSessionManager manager];</span><br><span class="line">sessionManager.session.configuration.requestCachePolicy = <span class="built_in">NSURLRequestReloadIgnoringLocalCacheData</span>;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>Note that <code>NSURLRequestReloadIgnoringLocalAndRemoteCacheData</code> is not implemented by the OS, and <code>NSURLRequestReloadIgnoringCacheData</code> is just synonym for <code>NSURLRequestReloadIgnoringLocalCacheData</code></p>
<ol>
<li><p>Set <code>URLCache</code> to nil</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AFHTTPSessionManager *sessionManager = [AFHTTPSessionManager manager];</span><br><span class="line">sessionManager.session.configuration.URLCache = <span class="literal">nil</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>NSURLRequest cachePolicy<br>NSURLRequest has <code>cachePolicy</code> that can be used to control caching for specific request</p>
</li>
</ol>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/URLLoadingSystem/URLLoadingSystem.html#//apple_ref/doc/uid/10000165-BCICJDHA" target="_blank" rel="external">URL Loading System Programming Guide</a></li>
</ol>
<ol>
<li><a href="http://www.raywenderlich.com/59982/nsurlprotocol-tutorial" target="_blank" rel="external">NSURLProtocol Tutorial</a></li>
</ol>
<ol>
<li><a href="http://catthoughts.ghost.io/in-depth-nsurlcache/" target="_blank" rel="external">NSURLCACHE &amp; NSCACHED URLRESPONSE</a></li>
</ol>
<ol>
<li><a href="http://stackoverflow.com/questions/12180727/afnetworking-how-to-know-if-response-is-using-cache-or-not-304-or-200" target="_blank" rel="external">AFNetworking : How to know if response is using cache or not ? 304 or 200</a></li>
</ol>
<ol>
<li><a href="http://stackoverflow.com/questions/25586244/afnetworking-2-0-forced-caching" target="_blank" rel="external">AFNetworking 2.0 - Forced caching</a></li>
</ol>
<ol>
<li><a href="http://stackoverflow.com/questions/24328461/how-to-disable-caching-from-nsurlsessiontask" target="_blank" rel="external">How to disable caching from NSURLSessionTask</a></li>
</ol>
<ol>
<li><a href="http://stackoverflow.com/questions/24281331/afnetworking-different-cache-settings-for-different-content" target="_blank" rel="external">AFNetworking different cache settings for different content</a></li>
</ol>
<ol>
<li><a href="http://stackoverflow.com/questions/20768968/why-is-nsurlsession-dont-use-my-configured-nsurlcache" target="_blank" rel="external">Why is NSURLSession don’t use my configured NSURLCache?</a></li>
</ol>
<ol>
<li><a href="http://nshipster.com/nsurlcache/" target="_blank" rel="external">NSURLCache</a></li>
</ol>
<ol>
<li><a href="https://blackpixel.com/writing/2012/05/caching-and-nsurlconnection.html" target="_blank" rel="external">Caching and NSURLConnection</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/iOS/">iOS</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2015/06/18/understanding-afnetworking-cache/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2015/04/18/opportunities/" title="Opportunities" itemprop="url">Opportunities</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-04-18T02:35:55.000Z" itemprop="datePublished"> Published 2015-04-18</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>I read in <a href="http://blog.penso.info/2013/05/25/getting-a-job-in-san-francisco/" target="_blank" rel="external">an article</a> that “Working in fashion? Go to NYC. Working in Software development? Go to SF. It’s just that simple.”. By SF or other high tech scene places, I mean we can have opportunities to learn in the best universities, work with the best people, meet new friends in local meet ups, conferences, …</p>
<p>I see questions on Quora a lot on how to relocate to work in those companies, how to have eligible visa to attend bootcamp, conferences, …</p>
<p>But think for a while now, we already have access to all these things by other means, to a certain degree even if we ‘re not in the Bay Area. All we need is the the right attitude. So be positive and do <a href="http://blog.codinghorror.com/the-ultimate-code-kata/" target="_blank" rel="external">effortful study</a>. The world is more likely to be flat now</p>
<ul>
<li>University: We can learn course from <a href="https://www.edx.org" target="_blank" rel="external">edX</a>, <a href="https://www.coursera.org/" target="_blank" rel="external">Coursera</a>, <a href="https://www.udacity.com" target="_blank" rel="external">Udacity</a>, …</li>
</ul>
<ul>
<li>Meet up: Some meet up talks push their presentations on Slideshare, SpeakerDeck</li>
</ul>
<ul>
<li>Conference: Some conferences (WWDC, Google IO, …) provide streaming and archived videos</li>
</ul>
<ul>
<li>Book: We can buy and read the same books. <a href="http://www.fantageek.com/1631/recommended-books-for-developers/">Recommended books for developers</a></li>
</ul>
<ul>
<li>Bootcamp: Some like <a href="https://www.bloc.io/" target="_blank" rel="external">Bloc</a>, … have their bootcamp program available online</li>
</ul>
<ul>
<li>Chat room: Most of the chat rooms (Stackoverflow Chat, IRC, Gitter, …) are public</li>
</ul>
<ul>
<li>Tech talk, Web Seminar: Most allow us to join (Raywenderlich Tech Talk, SenchaTouch web seminar, …) on Google Hangout, …</li>
</ul>
<ul>
<li>Work: Some companies allow remote work and the trend is increasing. <a href="https://www.youtube.com/watch?v=m6yCKoSetW8" target="_blank" rel="external">What Remote Working Means &amp; The Tools We Use - Buffer’s Founder Chat Friday</a></li>
</ul>
<ul>
<li>Projects: We can learn and contribute to open source projects. Some companies like <a href="http://www.objc.io/issue-22/artsy.html" target="_blank" rel="external">Artsy</a> have “Open Source By default” in mind, and we can learn much from their work</li>
</ul>
<ul>
<li>Blog: Popular developers have blog. You can learn a lot by reading their blogs. <a href="http://www.quora.com/What-are-the-most-popular-software-developer-blogs-news-sources" target="_blank" rel="external">What are the most popular software developer blogs/news sources?</a></li>
</ul>
<ul>
<li>Trend: Twitter is a good source for learning new trends in the community. And following popular people cost you zero</li>
</ul>
<ul>
<li>Network: You can connect with awesome people on Linkedin and share experience about your professional subjects</li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Programming/">Programming</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2015/04/18/opportunities/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2015/04/10/ios-asynchrony/" title="iOS Asynchrony" itemprop="url">iOS Asynchrony</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-04-10T01:30:41.000Z" itemprop="datePublished"> Published 2015-04-10</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="GCD"><a href="#GCD" class="headerlink" title="GCD"></a><a href="https://developer.apple.com/library/prerelease/mac/documentation/Performance/Reference/GCD_libdispatch_Ref/index.html" target="_blank" rel="external">GCD</a></h3><blockquote><br>  Grand Central Dispatch (GCD) comprises language features, runtime libraries, and system enhancements that provide systemic, comprehensive improvements to the support for concurrent code execution on multicore hardware in iOS and OS X.<br></blockquote>



<p>[code language=”objc”]<br>// Doing something on the main thread</p>
<p>dispatch_queue_t myQueue = dispatch_queue_create(“My Queue”,NULL);<br>dispatch_async(myQueue, ^{<br>    // Perform long running process</p>
<pre><code>dispatch_async(dispatch_get_main_queue(), ^{
    // Update the UI

});
</code></pre><p>}); </p>
<p>// Continue doing other stuff on the<br>// main thread while process is running.<br>[/code]</p>
<h3 id="PromiseKit"><a href="#PromiseKit" class="headerlink" title="PromiseKit"></a><a href="https://github.com/mxcl/PromiseKit" target="_blank" rel="external">PromiseKit</a></h3><blockquote><br>  A promise is an object that wraps an asynchronous task. Pass that object around, and write clean, ordered code; a logical, simple, modular stream of progression from one asynchronous task to another.<br></blockquote>



<p>[code language=”objc”]<br>[self login].then(^{</p>
<pre><code>// our login method wrapped an async task in a promise
return [API fetchKittens];
</code></pre><p>}).then(^(NSArray *fetchedKittens){</p>
<pre><code>// our API class wraps our API and returns promises
// fetchKittens returned a promise that resolves with an array of kittens
self.kittens = fetchedKittens;
[self.tableView reloadData];
</code></pre><p>}).catch(^(NSError *error){</p>
<pre><code>// any errors in any of the above promises land here
[[[UIAlertView alloc] init…] show];
</code></pre><p>});<br>[/code]</p>
<h3 id="Bolt"><a href="#Bolt" class="headerlink" title="Bolt"></a><a href="https://github.com/BoltsFramework/Bolts-iOS" target="_blank" rel="external">Bolt</a></h3><blockquote><br>  A task represents the result of an asynchronous operation. Typically, a BFTask is returned from an asynchronous function and gives the ability to continue processing the result of the task. When a task is returned from a function, it’s already begun doing its job.<br><br>  A task is not tied to a particular threading model: it represents the work being done, not where it is executing.<br></blockquote>



<p>[code language=”objc”]<br>[[self saveAsync:obj] continueWithBlock:^id(BFTask <em>task) {<br>  if (task.isCancelled) {<br>    // the save was cancelled.<br>  } else if (task.error) {<br>    // the save failed.<br>  } else {<br>    // the object was saved successfully.<br>    PFObject </em>object = task.result;<br>  }<br>  return nil;<br>}];<br>[/code]</p>
<h3 id="ReactiveCocoa"><a href="#ReactiveCocoa" class="headerlink" title="ReactiveCocoa"></a><a href="https://github.com/ReactiveCocoa/ReactiveCocoa" target="_blank" rel="external">ReactiveCocoa</a></h3><blockquote><br>  ReactiveCocoa (RAC) is an Objective-C framework inspired by Functional Reactive Programming. It provides APIs for composing and transforming streams of values.<br><br>  Rather than using mutable variables which are replaced and modified in-place, RAC provides signals (represented by RACSignal) that capture present and future values.<br><br>  By chaining, combining, and reacting to signals, software can be written declaratively, without the need for code that continually observes and updates values.<br></blockquote>



<p>[code language=”objc”]<br>[[[[client<br>    logInUser]<br>    flattenMap:^(User <em>user) {<br>        // Return a signal that loads cached messages for the user.<br>        return [client loadCachedMessagesForUser:user];<br>    }]<br>    flattenMap:^(NSArray </em>messages) {<br>        // Return a signal that fetches any remaining messages.<br>        return [client fetchMessagesAfterMessage:messages.lastObject];<br>    }]<br>    subscribeNext:^(NSArray *newMessages) {<br>        NSLog(@”New messages: %@”, newMessages);<br>    } completed:^{<br>        NSLog(@”Fetched all messages.”);<br>    }];<br>[/code]</p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><ol>
<li><a href="http://www.dimroc.com/2014/12/17/bolt-framework-promisekit-or-reactive-cocoa-for-async/" target="_blank" rel="external">Taming Callbacks in iOS: Bolts Framework</a></li>
</ol>
<ol>
<li><a href="http://jeffreysambells.com/2013/03/01/asynchronous-operations-in-ios-with-grand-central-dispatch" target="_blank" rel="external">Asynchronous Operations in iOS with Grand Central Dispatch</a></li>
</ol>
<ol>
<li><a href="http://sapandiwakar.in/promisekit-promises-for-ios/" target="_blank" rel="external">PromiseKit: Promises for iOS</a></li>
</ol>
<ol>
<li><a href="http://www.fantageek.com/1649/recommended-resources-for-learning-reactivecocoa-2/">Recommended resources for learning ReactiveCocoa</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/iOS/">iOS</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2015/04/10/ios-asynchrony/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2015/04/02/recommended-resources-for-learning-reactivecocoa-2/" title="Recommended resources for learning ReactiveCocoa" itemprop="url">Recommended resources for learning ReactiveCocoa</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-04-02T15:50:50.000Z" itemprop="datePublished"> Published 2015-04-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="Fundamental"><a href="#Fundamental" class="headerlink" title="Fundamental"></a>Fundamental</h3><ul>
<li><a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754" target="_blank" rel="external">The introduction to Reactive Programming you’ve been missing</a></li>
</ul>
<ul>
<li><a href="http://neilpa.me/rac-marbles/" target="_blank" rel="external">RAC Marbles</a></li>
</ul>
<ul>
<li><a href="http://reactivex.io/" target="_blank" rel="external">ReactiveX</a></li>
</ul>
<h3 id="Raywenderlich"><a href="#Raywenderlich" class="headerlink" title="Raywenderlich"></a>Raywenderlich</h3><ul>
<li>ReactiveCocoa Tutorial – The Definitive Introduction <a href="http://www.raywenderlich.com/62699/reactivecocoa-tutorial-pt1" target="_blank" rel="external">Part 1</a> <a href="http://www.raywenderlich.com/62796/reactivecocoa-tutorial-pt2" target="_blank" rel="external">Part 2</a></li>
</ul>
<ul>
<li>iOS 7 Best Practices; A Weather App Case Study <a href="http://www.raywenderlich.com/55384/ios-7-best-practices-part-1" target="_blank" rel="external">Part 1</a> <a href="http://www.raywenderlich.com/55386/ios-7-best-practices-part-2" target="_blank" rel="external">Part 2</a></li>
</ul>
<ul>
<li>MVVM Tutorial with ReactiveCocoa <a href="http://www.raywenderlich.com/74106/mvvm-tutorial-with-reactivecocoa-part-1" target="_blank" rel="external">Part 1</a> <a href="http://www.raywenderlich.com/74131/mvvm-tutorial-with-reactivecocoa-part-2" target="_blank" rel="external">Part 2</a></li>
</ul>
<ul>
<li><a href="https://www.youtube.com/watch?v=fWV7xyN5CR8" target="_blank" rel="external">April 2014 Tech Talk: Reactive Cocoa</a></li>
</ul>
<h3 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h3><ul>
<li><a href="https://github.com/AshFurrow/C-41" target="_blank" rel="external">C-41</a></li>
</ul>
<ul>
<li><a href="https://github.com/ashfurrow/FunctionalReactivePixels" target="_blank" rel="external">FunctionalReactivePixels</a></li>
</ul>
<ul>
<li><a href="https://github.com/jspahrsummers/GroceryList" target="_blank" rel="external">GroceryList</a></li>
</ul>
<ul>
<li><a href="https://github.com/TeehanLax/Upcoming" target="_blank" rel="external">Upcoming</a></li>
</ul>
<ul>
<li><a href="https://github.com/octokit/octokit.objc" target="_blank" rel="external">octokit.objc</a></li>
</ul>
<ul>
<li><a href="https://github.com/artsy/eigen" target="_blank" rel="external">eigen</a></li>
</ul>
<h3 id="GitHub-Reactive-Cocoa-Developer-Conference"><a href="#GitHub-Reactive-Cocoa-Developer-Conference" class="headerlink" title="GitHub Reactive Cocoa Developer Conference"></a>GitHub Reactive Cocoa Developer Conference</h3><ul>
<li><a href="https://www.youtube.com/watch?v=sek0ohbboNU&amp;list=PL0lo9MOBetEEXnrrP5pwZxSkGvaDBGdOC&amp;index=3" target="_blank" rel="external">RACify Non-Reactive Code</a></li>
</ul>
<h3 id="Atomic-Object"><a href="#Atomic-Object" class="headerlink" title="Atomic Object"></a>Atomic Object</h3><ul>
<li><a href="http://spin.atomicobject.com/?s=reactivecocoa" target="_blank" rel="external">ReactiveCocoa posts tag</a></li>
</ul>
<h3 id="ReactiveCocoa-Design-Patterns"><a href="#ReactiveCocoa-Design-Patterns" class="headerlink" title="ReactiveCocoa Design Patterns"></a>ReactiveCocoa Design Patterns</h3><ul>
<li><a href="http://rcdp.io/Signal.html" target="_blank" rel="external">Signal</a></li>
</ul>
<h3 id="Sprynthesis"><a href="#Sprynthesis" class="headerlink" title="Sprynthesis"></a>Sprynthesis</h3><ul>
<li><a href="http://www.sprynthesis.com/2014/06/15/why-reactivecocoa/" target="_blank" rel="external">Why ReactiveCocoa</a></li>
</ul>
<ul>
<li><a href="http://www.sprynthesis.com/2014/12/06/reactivecocoa-mvvm-introduction/" target="_blank" rel="external">ReactiveCocoa and MVVM, an Introduction</a></li>
</ul>
<h3 id="if-apps"><a href="#if-apps" class="headerlink" title="if(!apps)"></a>if(!apps)</h3><ul>
<li>ReactiveCocoa From the Ground Floor <a href="http://ifnotapps.com/2013/07/25/reactivecocoa-from-the-ground-floor-part1/" target="_blank" rel="external">Part 1</a> <a href="http://ifnotapps.com/2013/08/10/reactivecocoa-from-the-ground-floor-part2/" target="_blank" rel="external">Part 2</a></li>
</ul>
<h3 id="RAC-Issues"><a href="#RAC-Issues" class="headerlink" title="RAC Issues"></a>RAC Issues</h3><ul>
<li><a href="https://github.com/ReactiveCocoa/ReactiveCocoa/issues/448" target="_blank" rel="external">Why do you prefer flattenMap: over map:?</a></li>
</ul>
<h3 id="Stackoverflow"><a href="#Stackoverflow" class="headerlink" title="Stackoverflow"></a>Stackoverflow</h3><ul>
<li><a href="http://stackoverflow.com/questions/tagged/reactive-cocoa" target="_blank" rel="external">Highest voted questions</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/iOS/">iOS</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2015/04/02/recommended-resources-for-learning-reactivecocoa-2/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2015/03/30/what-define-a-good-programmer/" title="What define a good programmer?" itemprop="url">What define a good programmer?</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-03-30T14:27:44.000Z" itemprop="datePublished"> Published 2015-03-30</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>I always found myself asking this question “What define a good programmer?”</p>
<p>I ask lots of people and the answers vary, they ‘re all correct for certain aspects</p>
<blockquote><br>  Good programmer is someone who has a solid knowledge of the “how-to” both in theory and in practices. Understanding customer requirements clearly and having a vision to fulfill it through dedication and execution !<br><br>  Good programmer is one who has in depth knowledge of one particular major and wide understanding of many thing else<br><br>  Algorithm (actually this is my definition)<br></blockquote>



<p>But I think I find the answer now, it is “responsibility”.</p>
<p>Thanks Uncle Bob for pointing it out in his experience sharing “The Professional Programmer” in the book <a href="http://www.amazon.com/Things-Every-Programmer-Should-Know/dp/0596809484" target="_blank" rel="external">97 Things Every Programmer Should Know: Collective Wisdom from the Experts</a></p>
<blockquote><br>  The single most important trait of a professional programmer is personal responsibility. Professional programmers take responsibility for their career, their estimates, their schedule commitments, their mistakes, and their work- manship. A professional programmer does not pass that responsibility off on others.<br></blockquote>







<ul>
<li>If you are a professional, then you are responsible for your own career</li>
</ul>
<ul>
<li>Professionals take responsibility for the code they write</li>
</ul>
<ul>
<li>Professionals are team players</li>
</ul>
<ul>
<li>Professionals do not tolerate big bug lists</li>
</ul>
<ul>
<li>Professionals do not make a mess</li>
</ul>
<p>Although he talks about professional programmer, but my intention in “good programmer” term is the same as that</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Programming/">Programming</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2015/03/30/what-define-a-good-programmer/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2015/03/09/recommended-books-for-developers/" title="Recommended books for developers" itemprop="url">Recommended books for developers</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-03-09T15:02:29.000Z" itemprop="datePublished"> Published 2015-03-09</time>
    
  </p>
</header>
    <div class="article-content">
        
        <ul>
<li><a href="http://www.amazon.com/Pragmatic-Programmer-Journeyman-Master/dp/020161622X/" target="_blank" rel="external">The Pragmatic Programmer: From Journeyman to Master</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Things-Every-Programmer-Should-Know-ebook/dp/B0039OVIAK/ref=pd_sim_b_1?ie=UTF8&amp;refRID=1RQQNDCAT8RC85SCK3XR" target="_blank" rel="external">97 Things Every Programmer Should Know: Collective Wisdom from the Experts</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship-ebook/dp/B001GSTOAM/" target="_blank" rel="external">Clean Code: A Handbook of Agile Software Craftsmanship</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Clean-Coder-Conduct-Professional-Programmers-ebook/dp/B0050JLC9Y/" target="_blank" rel="external">The Clean Coder: A Code of Conduct for Professional Programmers</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Code-Complete-Developer-Best-Practices-ebook/dp/B00JDMPOSY/" target="_blank" rel="external">Code Complete</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Refactoring-Improving-Existing-Addison-Wesley-Technology-ebook/dp/B007WTFWJ6/" target="_blank" rel="external">Refactoring: Improving the Design of Existing Code</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Refactoring-Patterns-Addison-Wesley-Signature-Kerievsky-ebook/dp/B001TKD4RQ/" target="_blank" rel="external">Refactoring to Patterns</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented-ebook/dp/B000SEIBB8/" target="_blank" rel="external">Design Patterns: Elements of Reusable Object-Oriented Software</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Working-Effectively-Legacy-Robert-Martin-ebook/dp/B005OYHF0A" target="_blank" rel="external">Working Effectively with Legacy Code</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Agile-Principles-Patterns-Practices-C-ebook/dp/B0051TM4GI/" target="_blank" rel="external">Agile Principles, Patterns, and Practices in C#</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Growing-Object-Oriented-Software-Addison-Wesley-Signature-ebook/dp/B002TIOYVW/" target="_blank" rel="external">Growing Object-Oriented Software, Guided by Tests</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Art-Unit-Testing-examples/dp/1617290890/" target="_blank" rel="external">The Art of Unit Testing</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Enterprise-Application-Architecture-Addison-Wesley-Signature-ebook/dp/B008OHVDFM/" target="_blank" rel="external">Patterns of Enterprise Application Architecture</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Mythical-Man-Month-Anniversary-Software-Engineering-ebook/dp/B00B8USS14" target="_blank" rel="external">The Mythical Man-Month, Anniversary Edition: Essays On Software Engineering</a></li>
</ul>
<ul>
<li><a href="http://www.amazon.com/Domain-Driven-Design-Tackling-Complexity-Software/dp/0321125215" target="_blank" rel="external">Domain-Driven Design: Tackling Complexity in the Heart of Software</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Programming/">Programming</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2015/03/09/recommended-books-for-developers/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/blog/2015/02/28/stupid-interview-questions/" title="Stupid Interview Questions" itemprop="url">Stupid Interview Questions</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-02-28T16:56:50.000Z" itemprop="datePublished"> Published 2015-02-28</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>The original is <a href="http://exold.com/article/stupid-interview-questions" target="_blank" rel="external">http://exold.com/article/stupid-interview-questions</a> but it seems the site if off, so I made a copy here as a reference for myself and those who need</p>
<p>I was reading a blog post on some guy’s programming interview, where he complained about being asked to write a file copy function. Now, while it’s quite possible to take umbrage at this, if I were in that situation, I’d see it as a chance for some free entertainment <em>cool</em>.</p>
<p>Q. What do you mean by “copy”?<br>A. Ummm…copy the contents of the file to a new file.<br>Q. What about the date/time stamps?<br>A. No, those don’t need to be copied.<br>Q. Does the result file have to have the same name?<br>A. No.<br>Q. Can it have the same name?<br>A. Umm…no.<br>Q. Do I have to worry about name spoofing? What about the Turkish I?<br>A. Don’t worry about that.<br>Q. Does it have to be in the same location? Note that if it is in the same location, it (probably) can’t have the same name. Unless you copy it to itself (another question…).<br>A. Yes.<br>Q. What about the attributes?<br>A. Make the attributes the same.<br>Q. Should I modify the attributes of the source file? If this file copy is part of a backup or archive operation, it’d probably be a mistake to leave the ‘Archive’ attribute on.<br>A. No, leave them as-is.<br>Q. What if the source file has the Archive attribute off? If I make it off on the new file as well, it could screw up the user’s backup software.<br>A. Just make it the same. I don’t care about the user’s backup software.<br>Q. Well, I’m not sure that’s the best approach to take when thinking about designing software FOR users, but if you say so.<br>A. …<br>Q. What about compression? It’s a file attribute, but the copy destination may not support compression.<br>A. Don’t compress the copy.<br>Q. Even if the source is compressed, and the destination supports compression?<br>A. YES.<br>Q. What about encryption? What if the source file is encrypted, but the destination does not support encryption?<br>A. Don’t encrypt the copy if the destination doesn’t support it.<br>Q. Mmmmm, sorry, don’t mean to digress, but…that could be a serious security hole. Especially if wherever this file copy function ends up supports arbitrary parameters (directly or indirectly).<br>A. Look, just copy the damn file.<br>Q. What about the file creator?<br>A. Don’t care.<br>Q. What about the file owner?<br>A. Don’t care.<br>Q. What about file permissions? Is there a separate way we should handle inherited permissions and assigned permissions?<br>A. Forget the permissions.<br>Q. What operating system will this function be required to run on?<br>A. Windows XP.<br>Q. Home, or Pro, or Media Center, or one or more?<br>A. Pro.<br>Q. What service pack level are we aiming for?<br>A. Service Pack 2.<br>Q. Does that mean we don’t have to support any other SP level?<br>A. Yes, fine.<br>Q. How will the source file name be supplied?<br>A. As a parameter.<br>Q. Is it going to be supplied as a null-terminated string, a counted string, or an object?<br>A. Null-terminated string.<br>Q. Is it possible that a NULL pointer will be passed in?<br>A. No.<br>Q. Is it possible that an empty string will be passed in?<br>A. No.<br>Q. Is it possible that a malformed string will be passed in (e.g., no NULL terminator)?<br>A. No.<br>Q. What encoding will the filename be in?<br>A. Unicode.<br>Q. Sorry, umm…Unicode is not an encoding, really. If we’re using Unicode data, it has to have a specific encoding, like UTF-8, UCS-2, UTF-16, etc.<br>A. Fine. Make it UTF-8.<br>Q. OK. I’d like to note at this point that it’s a bit of a pain to have to transcode UTF-8 to UTF-16 in order to be able to supply it to Windows API calls.<br>A. Fine! UTF-16!<br>Q. Big-endian or little-endian?<br>A. ARGH. Whichever you want!<br>Q. Should we accept relative paths, or only fully-specified paths?<br>A. Only full paths.<br>Q. Are there any characteristics of the paths we are supposed to accept that I can screen the parameters on?<br>A. No. The caller will do all screening of paths and file names.<br>Q. How will the destination file name be generated or supplied?<br>…<br>Q. Am I required to support (or allow) an asynchronous copy operation?<br>A. No.<br>Q. How should I report errors? Exceptions? Error codes?<br>A. Whatever.<br>Q. Should I try and handle exceptions from called functions internally, or let them pass through to the caller?<br>A. Err…let them pass through.<br>Q. What if the destination file already exists?<br>A. It won’t.<br>Q. So the caller ensures that?<br>A. Right, sure.<br>Q. So if it does exist, I can just terminate the program, then? Obviously this would be a violation of preconditions, and who knows WHAT is going on.<br>A. Sure, whatever you want.<br>Q. What about alternate data streams?<br>A. Do whatever you want!<br>Q. Look, I’m sorry if you feel put-upon here, please don’t get hostile. I’m just trying to get a clear picture of the specs I need here. Obviously if I’m going to write a file copy method, instead of using one of the many extant file copy routines in various libraries and frameworks, it’s going to be fulfilling a specialized set of requirements, and I’m going to need to have good answers for these questions. If you want, I can hack something together in a minute, but I’d have to note that there were many unresolved issues as to requirements and purposes.<br>A. AIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII</p>
<p>Mission accomplished. wink</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Programming/">Programming</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/blog/2015/02/28/stupid-interview-questions/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/6/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/8/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github Card</p>
<div class="github-card" data-github="onmyway133" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java-Script/" title="Java Script">Java Script<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Life/" title="Life">Life<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Miscellaneous/" title="Miscellaneous">Miscellaneous<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Mobile-Labs/" title="Mobile Labs">Mobile Labs<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Others/" title="Others">Others<sup>26</sup></a></li>
		  
		
		  
			<li><a href="/categories/Programming/" title="Programming">Programming<sup>10</sup></a></li>
		  
		
		  
			<li><a href="/categories/Others/Windows-8/" title="Windows 8">Windows 8<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-8/" title="Windows 8">Windows 8<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-Phone/" title="Windows Phone">Windows Phone<sup>12</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-8/Windows-Phone/" title="Windows Phone">Windows Phone<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS<sup>85</sup></a></li>
		  
		
		  
			<li><a href="/categories/programming/" title="programming">programming<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/ios/" title="ios">ios<sup>21</sup></a></li>
			
		
			
				<li><a href="/tags/wp7/" title="wp7">wp7<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/tutorial/" title="tutorial">tutorial<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/mac-osx/" title="mac osx">mac osx<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/wp8/" title="wp8">wp8<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/convert/" title="convert">convert<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/windows-8/" title="windows 8">windows 8<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C">C<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/android/" title="android">android<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/disable/" title="disable">disable<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/view-controller/" title="view controller">view controller<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/voip/" title="voip">voip<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/programming/" title="programming">programming<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/xcode/" title="xcode">xcode<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/file/" title="file">file<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/openssl/" title="openssl">openssl<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/visual-studio/" title="visual studio">visual studio<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/build/" title="build">build<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/project/" title="project">project<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/facebook/" title="facebook">facebook<sup>3</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> A dream is not a dream anymore when you don&#39;t have time for it <br/>
			What you don&#39;t know is what you haven&#39;t learned</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/onmyway133" target="_blank" class="icon-github" title="github"></a>
		
		
		<a href="http://stackoverflow.com/users/1418457/onmyway133" target="_blank" class="icon-stack-overflow" title="stackoverflow"></a>
		
		
		<a href="https://twitter.com/onmyway133" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		
		
		
		
		
		<a href="mailto:onmyway133@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="Khoa Pham">Khoa Pham</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-40119591-1', 'fantageek.com');  
ga('send', 'pageview');
</script>





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
