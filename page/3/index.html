
 <!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  
    <title>Fantageek</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Khoa Pham">
    

    
    <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Fantageek">
<meta property="og:url" content="http://www.fantageek.com/page/3/index.html">
<meta property="og:site_name" content="Fantageek">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fantageek">
<meta name="twitter:description">
<meta name="twitter:creator" content="@onmyway133">

    
    <link rel="alternative" href="/atom.xml" title="Fantageek" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Fantageek" title="Fantageek"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Fantageek">Fantageek</a></h1>
				<h2 class="blog-motto">Simple apps that make sense</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:www.fantageek.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/12/03/creating-a-piano-using-ios-9-auto-layout/" title="Creating a piano using iOS 9 Auto Layout" itemprop="url">Creating a piano using iOS 9 Auto Layout</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-12-03T16:39:32.000Z" itemprop="datePublished"> Published 2015-12-03</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>In the beginning, people use frame and Autoresizing Mask, then they use Auto Layout, then iOS 9 encourages them to use <code>NSLayoutAnchor</code>, <code>UILayoutGuide</code> and <code>UIStackView</code></p>
<h2 id="NSLayoutAnchor"><a href="#NSLayoutAnchor" class="headerlink" title="NSLayoutAnchor"></a>NSLayoutAnchor</h2><blockquote>
<p>The NSLayoutAnchor class is a factory class for creating NSLayoutConstraint objects using a fluent API. Use these constraints to programmatically define your layout using Auto Layout.</p>
</blockquote>
<p>It has 3 subclasses</p>
<p><code>NSLayoutDimension</code></p>
<ul>
<li>func constraintEqualToConstant(_ c: CGFloat) -&gt; NSLayoutConstraint!</li>
</ul>
<p><code>NSLayoutXAxisAnchor</code></p>
<ul>
<li>Allows working with horizontal constraints</li>
<li>Prevent these</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This constraint generates an incompatible pointer type warning</span></span><br><span class="line">cancelButton.leadingAnchor.constraintEqualToAnchor(saveButton.topAnchor, constant: <span class="number">8.0</span>).active = <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p><code>NSLayoutYAxisAnchor</code></p>
<ul>
<li>Allows working with vertical constraints</li>
<li>Prevent these</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This constraint generates an incompatible pointer type warning</span></span><br><span class="line">cancelButton.topAnchor.constraintEqualToAnchor(saveButton.trailingAnchor, constant: <span class="number">8.0</span>).active = <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="UILayoutGuide"><a href="#UILayoutGuide" class="headerlink" title="UILayoutGuide"></a>UILayoutGuide</h2><p>Previously, we used dummy views to aid constraints. Now we use <code>UILayoutGuide</code></p>
<h3 id="Define-an-equal-spacing-between-a-series-of-views"><a href="#Define-an-equal-spacing-between-a-series-of-views" class="headerlink" title="Define an equal spacing between a series of views"></a>Define an equal spacing between a series of views</h3><p><img src="http://www.fantageek.com/images/UILayoutGuide_Spacing.png" alt=""></p>
<p>See full <a href="https://gist.github.com/onmyway133/fcf892aac565d36ee890" target="_blank" rel="external">gist</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> space1 = <span class="type">UILayoutGuide</span>()</span><br><span class="line">view.addLayoutGuide(space1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> space2 = <span class="type">UILayoutGuide</span>()</span><br><span class="line">view.addLayoutGuide(space2)</span><br><span class="line"></span><br><span class="line">space1.widthAnchor.constraintEqualToAnchor(space2.widthAnchor).active = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">saveButton.trailingAnchor.constraintEqualToAnchor(space1.leadingAnchor).active = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">cancelButton.leadingAnchor.constraintEqualToAnchor(space1.trailingAnchor).active = <span class="literal">true</span></span><br><span class="line">cancelButton.trailingAnchor.constraintEqualToAnchor(space2.leadingAnchor).active = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">clearButton.leadingAnchor.constraintEqualToAnchor(space2.trailingAnchor).active = <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h3 id="Layout-guides-can-also-act-as-a-black-box-containing-a-number-of-other-views-and-controls"><a href="#Layout-guides-can-also-act-as-a-black-box-containing-a-number-of-other-views-and-controls" class="headerlink" title="Layout guides can also act as a black box, containing a number of other views and controls"></a>Layout guides can also act as a black box, containing a number of other views and controls</h3><p><img src="http://www.fantageek.com/images/UILayoutGuide_Container.png" alt=""></p>
<p>See the full <a href="https://gist.github.com/onmyway133/faa135b4db601d0db9a8" target="_blank" rel="external">gist</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> container = <span class="type">UILayoutGuide</span>()</span><br><span class="line">view.addLayoutGuide(container)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Set interior constraints</span></span><br><span class="line">label.lastBaselineAnchor.constraintEqualToAnchor(textField.lastBaselineAnchor).active = <span class="literal">true</span></span><br><span class="line">label.leadingAnchor.constraintEqualToAnchor(container.leadingAnchor).active = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">textField.leadingAnchor.constraintEqualToAnchor(label.trailingAnchor, constant: <span class="number">8.0</span>).active = <span class="literal">true</span></span><br><span class="line">textField.trailingAnchor.constraintEqualToAnchor(container.trailingAnchor).active = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">textField.topAnchor.constraintEqualToAnchor(container.topAnchor).active = <span class="literal">true</span></span><br><span class="line">textField.bottomAnchor.constraintEqualToAnchor(container.bottomAnchor).active = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Set exterior constraints</span></span><br><span class="line"><span class="comment">// The contents of the container can be treated as a black box</span></span><br><span class="line"><span class="keyword">let</span> margins = view.layoutMarginsGuide</span><br><span class="line"></span><br><span class="line">container.leadingAnchor.constraintEqualToAnchor(margins.leadingAnchor).active = <span class="literal">true</span></span><br><span class="line">container.trailingAnchor.constraintEqualToAnchor(margins.trailingAnchor).active = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Must use NSLayoutConstraint with the scene's top and bottom layout guides.</span></span><br><span class="line"><span class="type">NSLayoutConstraint</span>(item: container,</span><br><span class="line">    attribute: .<span class="type">Top</span>,</span><br><span class="line">    relatedBy: .<span class="type">Equal</span>,</span><br><span class="line">    toItem: topLayoutGuide,</span><br><span class="line">    attribute: .<span class="type">Bottom</span>,</span><br><span class="line">    multiplier: <span class="number">1.0</span>,</span><br><span class="line">    constant: <span class="number">20.0</span>).active = <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h3 id="layoutMarginsGuide"><a href="#layoutMarginsGuide" class="headerlink" title="layoutMarginsGuide"></a>layoutMarginsGuide</h3><p>Margins are now represented as <code>layoutMarginsGuide</code>, a subclass of <code>UILayoutGuide</code></p>
<h3 id="topLayoutGuide-and-bottomLayoutGuide"><a href="#topLayoutGuide-and-bottomLayoutGuide" class="headerlink" title="topLayoutGuide and bottomLayoutGuide"></a>topLayoutGuide and bottomLayoutGuide</h3><p>In the container example, we saw how we must use <code>NSLayoutConstraint</code> with the <code>topLayoutGuide</code>. <code>topLayoutGuide</code> and <code>bottomLayoutGuide</code> are object conforming to <code>UILayoutSupport</code> protocol</p>
<h3 id="layoutFrame"><a href="#layoutFrame" class="headerlink" title="layoutFrame"></a>layoutFrame</h3><blockquote>
<p>The layout guide defines a rectangular space in its owning view’s coordinate system. This property contains a valid CGRect value by the time its owning view’s layoutSubviews method is called.</p>
</blockquote>
<p>In the above container example, the container layout guide frame is</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(16.0, 40.0, 343.0, 21.0)</span><br></pre></td></tr></table></figure>
<h2 id="Piano"><a href="#Piano" class="headerlink" title="Piano"></a>Piano</h2><p><img src="http://www.fantageek.com/images/piano.png" alt=""></p>
<p>See <a href="http://github.com/onmyway133/Piano" target="_blank" rel="external">Piano on Github</a> on how to create a Piano using <code>UILayoutGuide</code>, <code>NSLayoutAnchor</code> and <code>UIStackView</code></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/12/03/creating-a-piano-using-ios-9-auto-layout/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/12/03/learning-how-to-learn/" title="Learning How To Learn" itemprop="url">Learning How To Learn</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-12-03T14:37:47.000Z" itemprop="datePublished"> Published 2015-12-03</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p>Most of us spend some good time trying to learn new things, but actually how many of us have ever stopped to think about the key principles behind the learning process? ~ <a href="https://www.quora.com/profile/Gianni-Cara" target="_blank" rel="external">Gianni</a></p>
</blockquote>
<p>I recently take a course about <code>Learning How To Learn</code>, in which I learn about how the brain works, how to apply learning techniques and tricks to get along well with your brain, and to learn more effectively.</p>
<p>Here are my short notes</p>
<h2 id="Metaphor"><a href="#Metaphor" class="headerlink" title="Metaphor"></a>Metaphor</h2><p>Metaphor and analogy help simplifying matters</p>
<h2 id="Focused-vs-diffuse-mode"><a href="#Focused-vs-diffuse-mode" class="headerlink" title="Focused vs diffuse mode"></a>Focused vs diffuse mode</h2><blockquote>
<p>You’re either in the focused mode or the diffuse mode<br>of thinking. It seems you can’t be in both thinking<br>modes at the same time.</p>
</blockquote>
<ul>
<li>Focused: intense thinking, uninterruptedly</li>
<li>Diffuse: leave what you’re doing and relax. Here you can look at things broadly from a very different,<br>big picture perspective</li>
</ul>
<blockquote>
<p>Have you ever had a problem that you couldn’t find a solution and then suddenly after a good night of sleep you woke up with a brilliant idea? That’s because sleeping is another moment when your brain naturally falls into the diffuse mode.</p>
<p>Thomas Edison knew the importance of the diffuse mode. When faced with a problem, Edison would sit and relax in his chair, holding ball bearings in his hand. He would then relax away letting his mind run free until fall as sleep. Once he felt as sleep, the ball bearings would drop and make him wake up with the noise. He would then get back to his work and take advantage from the ideas he got while in diffuse mode</p>
</blockquote>
<h2 id="Deal-with-procrastination"><a href="#Deal-with-procrastination" class="headerlink" title="Deal with procrastination"></a>Deal with procrastination</h2><p>People tend to procrastinate, because our brains tend to turn away unease new things to something more pleasant and familiar</p>
<p>Use Pomodoro technique, set a timer of more than 25 minutes, uninterruptedly. Then promise to give yourself a reward</p>
<h2 id="Practice-Makes-Permanent"><a href="#Practice-Makes-Permanent" class="headerlink" title="Practice Makes Permanent"></a>Practice Makes Permanent</h2><p>When facing new and abstract concepts, like Monad :P it’s important to practice with ideas and concepts to help enhance and strengthen the neural connection your making during the learning process.</p>
<p>Checking if you have any holes in your understanding of the material is a good first step. Create a test checklist where you can go from each point and recall everything you learned. If there’s something that is not 100% clear yet, then you probably still need to spend time on it.</p>
<h2 id="Prefer-spaced-repetition"><a href="#Prefer-spaced-repetition" class="headerlink" title="Prefer spaced repetition"></a>Prefer spaced repetition</h2><p>If you want to move that information into your long term memory, it often takes time and practice.</p>
<p>Spaced repetition involves repeating what you’re trying to retain, but what you want to do is space this<br>repetition out, daily, over a number of days</p>
<h2 id="Sleeping"><a href="#Sleeping" class="headerlink" title="Sleeping"></a>Sleeping</h2><p>Plain being awake creates toxic products in your brain, and sleeping remove these toxic. Sleeping is also when you go into your diffuse mode.</p>
<p>Sleep has also been shown to make a remarkable difference in your ability to figure out difficult problems and to understand what you’re trying to learn.</p>
<h2 id="Chunk"><a href="#Chunk" class="headerlink" title="Chunk"></a>Chunk</h2><p>Chunking is when you grasp and master various bits and<br>pieces of the skills you need. You’re creating little neural mini chunks, that you can then gradually knit together into larger neural chunks</p>
<p>Forming initial chunk by going through examples, creating a road map of what you need to go through</p>
<ul>
<li>Focus your undivided attention on the information you want to chunk</li>
<li>Understand the basic idea</li>
<li>See the connection between the basic elements</li>
<li>Practice and repetition</li>
</ul>
<h2 id="Recall"><a href="#Recall" class="headerlink" title="Recall"></a>Recall</h2><p>Recall instead of reread. After you’ve read the material, simply look away, and see what you can recall from the material you’ve just read</p>
<p>Concept mapping, drawing diagrams that show the relationship between the concepts would be the best.</p>
<h2 id="Avoid-illusion-of-competence"><a href="#Avoid-illusion-of-competence" class="headerlink" title="Avoid illusion of competence"></a>Avoid illusion of competence</h2><p>Merely glancing at a solution and thinking<br>you truly know it yourself is one of the most common<br>illusions of competence in learning.</p>
<p>Test it, recall it to see whether you actually grasp the idea.</p>
<p>By recalling and thinking about the<br>material when you are in various physical environment, you become independent of the cues from any one given location</p>
<h2 id="Avoid-overlearning"><a href="#Avoid-overlearning" class="headerlink" title="Avoid overlearning"></a>Avoid overlearning</h2><p>Continuing to study or practice after you’ve mastered what you can in the session is called overlearning.</p>
<p>Deliberate practice by focusing on the more difficult<br>material.</p>
<blockquote>
<p>Each practice session should be focused on one individual skill. Usually, each skill built upon the one before it</p>
</blockquote>
<p>Remember Einstellung, a phenomenon,<br>in which an idea you already have in mind or a neural<br>pattern you’ve already developed and strengthened, may prevent a better idea or solution from being found</p>
<blockquote>
<p>Can you recall a situation where you kept trying the same thing over and over again, even though it wasn’t working at all !!</p>
</blockquote>
<h2 id="Meaningful-groups"><a href="#Meaningful-groups" class="headerlink" title="Meaningful groups"></a>Meaningful groups</h2><p>It’s much easier to remember numbers by<br>associating them with memorable events</p>
<p>Create meaningful groups that simplify the material. It takes a bit of time to conjure up a solid mental image. But the more you do it, the quicker it becomes</p>
<h2 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h2><p>It is hard to learn when<br>you’re not into it. But if it’s something you’re really<br>interested in, learning is easy</p>
<p>Taking responsibility for your own<br>learning is one of the most important things you can do</p>
<h2 id="The-big-picture"><a href="#The-big-picture" class="headerlink" title="The big picture"></a>The big picture</h2><p>Structure your learning before you get started</p>
<p>Spend some time planning and identifying the key parts of your learning</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.quora.com/What-is-the-most-effective-way-to-learn/answer/Gianni-Cara?srid=KzvW&amp;share=eb2f94fa" target="_blank" rel="external">What is the most effective way to learn?</a></li>
<li><a href="https://www.coursera.org/learn/learning-how-to-learn" target="_blank" rel="external">Learning How to Learn: Powerful mental tools to help you master tough subjects</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/12/03/learning-how-to-learn/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/12/03/clean-cocoa/" title="Clean Cocoa" itemprop="url">Clean Cocoa</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-12-03T14:10:50.000Z" itemprop="datePublished"> Published 2015-12-03</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>I like <a href="http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882" target="_blank" rel="external">Clean Code</a>, and when it comes to Cocoa, I tend to apply that clean practices. Let ‘s call it Clean Cocoa</p>
<p>There are some blogs that constantly talks about Clean Cocoa, they are true sources of inspiration. I ‘d like to mention my favorites</p>
<h2 id="khanlou"><a href="#khanlou" class="headerlink" title="khanlou"></a><a href="http://khanlou.com/" target="_blank" rel="external">khanlou</a></h2><p>Written by <a href="https://twitter.com/khanlou" target="_blank" rel="external">Soroush Khanlou</a>. He talks about small, well defined responsibility classes. From <a href="http://khanlou.com/2014/09/8-patterns-to-help-you-destroy-massive-view-controller/" target="_blank" rel="external">8 Patterns to Help You Destroy Massive View Controller</a>, he expands those ideas into many series of blog posts</p>
<ul>
<li><a href="https://github.com/khanlou/InstantCocoa" target="_blank" rel="external">InstantCocoa</a>: This is like a collection of reusable components to help you shape your next iOS apps. I like reading about its Routing, Inflector and DataSourcr</li>
<li><a href="https://github.com/backchannel/BackchannelSDK-iOS" target="_blank" rel="external">BackchannelSDK-iOS</a>: This is for providing feedback right from your app. It is what illustrated many ideas of his blog posts in a single SDKs. Here we ‘ll find Coordinaror, Request Template, Nested structure, Smart View, Null Object Patterns, …</li>
</ul>
<h2 id="christian-tietze"><a href="#christian-tietze" class="headerlink" title="christian tietze"></a><a href="http://christiantietze.de/" target="_blank" rel="external">christian tietze</a></h2><p><a href="https://twitter.com/ctietze" target="_blank" rel="external">Christian</a> talks mostly about Mac, but I find we can learn and apply them to our iOS projects. Here we ‘ll find good posts on reducing object responsibility, reusable modules, …</p>
<ul>
<li><a href="https://leanpub.com/develop-mac-apps-clean-architecture-swift" target="_blank" rel="external">Exploring Mac App Development Strategies</a>: Learn best practices and patterns for developing Mac apps</li>
</ul>
<h2 id="Clean-Swift"><a href="#Clean-Swift" class="headerlink" title="Clean Swift"></a><a href="http://clean-swift.com/" target="_blank" rel="external">Clean Swift</a></h2><p><a href="http://twitter.com/rayvinly" target="_blank" rel="external">Raymond</a> is very helpful. You can find in his blog many ideas about applying Clean Architecture and TDD. I very much like <a href="https://www.objc.io/issues/13-architecture/viper/" target="_blank" rel="external">VIPER</a> and this blog help me much about that</p>
<p><a href="http://clean-swift.com/clean-swift-ios-architecture/" target="_blank" rel="external">Clean Swift iOS Architecture for Fixing Massive View Controller</a> is on my reading list</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/12/03/clean-cocoa/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/27/tuple-shuffle-in-swift/" title="Tuple shuffle in Swift" itemprop="url">Tuple shuffle in Swift</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-11-27T01:51:35.000Z" itemprop="datePublished"> Published 2015-11-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Tuple shuffle exists in Swift.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"one"</span>, b = <span class="string">"two"</span></span><br><span class="line">(a, b) = (b, a)</span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment">// "two"</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment">// "one"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> items = [<span class="string">"one"</span>, <span class="string">"two"</span>, <span class="string">"three"</span>]</span><br><span class="line">(items[<span class="number">0</span>], items[<span class="number">2</span>]) = (items[<span class="number">2</span>], items[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(items) <span class="comment">// "["three", "two", "one"]"</span></span><br></pre></td></tr></table></figure>
<p>With an example of array shuffle using <code>Fisher-Yates</code>, let’s leverage tuple shuffle instead of <code>swap</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">CollectionType</span> </span>&#123;</span><br><span class="line">    <span class="comment">/// Return a copy of `self` with its elements shuffled</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">shuffle</span><span class="params">()</span></span> -&gt; [<span class="type">Generator</span>.<span class="type">Element</span>] &#123;</span><br><span class="line">        <span class="keyword">var</span> list = <span class="type">Array</span>(<span class="keyword">self</span>)</span><br><span class="line">        list.shuffleInPlace()</span><br><span class="line">        <span class="keyword">return</span> list</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">MutableCollectionType</span> <span class="title">where</span> <span class="title">Index</span> == <span class="title">Int</span> </span>&#123;</span><br><span class="line">    <span class="comment">/// Shuffle the elements of `self` in-place.</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">shuffleInPlace</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">// empty and single-element collections don't shuffle</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">count</span> &lt; <span class="number">2</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="built_in">count</span> - <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> j = <span class="type">Int</span>(arc4random_uniform(<span class="type">UInt32</span>(<span class="built_in">count</span> - i))) + i</span><br><span class="line">            <span class="keyword">guard</span> i != j <span class="keyword">else</span> &#123; <span class="keyword">continue</span> &#125;</span><br><span class="line">            (<span class="keyword">self</span>[i], <span class="keyword">self</span>[j]) = (<span class="keyword">self</span>[j], <span class="keyword">self</span>[i])</span><br><span class="line">            <span class="comment">// instead of swap(&amp;self[i], &amp;self[j])</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>].shuffle()</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://ericasadun.com/2015/06/02/swift-swappity-doo-dah/" target="_blank" rel="external">Swift: Swappity Doo-dah!</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/11/27/tuple-shuffle-in-swift/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/04/a-dream-company/" title="A dream company" itemprop="url">A dream company</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-11-04T17:55:57.000Z" itemprop="datePublished"> Published 2015-11-04</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>To be written</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/11/04/a-dream-company/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/04/show-layout-bounds-in-ios/" title="Show layout bounds in iOS" itemprop="url">Show layout bounds in iOS</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-11-04T17:32:57.000Z" itemprop="datePublished"> Published 2015-11-04</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>On Android, we have an option called <code>Show layout bounds</code>, which allows us to see bounding areas of your views displayed in vibrant blue and purple.</p>
<ul>
<li><a href="http://tysmith.me/post/27035355999/layoutbounds" target="_blank" rel="external">Layout bounds</a></li>
</ul>
<p><img src="http://38.media.tumblr.com/tumblr_m719seXwah1qfcybd.png" alt=""></p>
<h2 id="Border"><a href="#Border" class="headerlink" title="Border"></a>Border</h2><p>On iOS, with the help of runtime, we can do the same. Using <a href="https://github.com/onmyway133/border" target="_blank" rel="external">Border</a></p>
<p>All you have to do is</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod <span class="string">'Border'</span>, <span class="string">'~&gt; 1.0'</span></span><br></pre></td></tr></table></figure>
<p><img src="https://camo.githubusercontent.com/70b3a0998d0e97d0a45749a2a6e676baa1a90404/68747470733a2f2f7261772e6769746875622e636f6d2f6f6e6d797761793133332f426f726465722f6d61737465722f53637265656e73686f74732f73637265656e73686f74312e706e67" alt=""></p>
<h2 id="How-Border-works"><a href="#How-Border-works" class="headerlink" title="How Border works"></a>How Border works</h2><p>The idea is to swizzle <code>didMoveToSuperview</code> in <code>constructor</code></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> swizzleInstanceMethod(Class class, SEL originalAction, SEL swizzledAction) &#123;</span><br><span class="line">    method_exchangeImplementations(class_getInstanceMethod(class, originalAction),</span><br><span class="line">                                   class_getInstanceMethod(class, swizzledAction));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> swizzle() &#123;</span><br><span class="line">    swizzleInstanceMethod(<span class="built_in">UIView</span>.class, <span class="keyword">@selector</span>(didMoveToSuperview),</span><br><span class="line">                          <span class="keyword">@selector</span>(ftg_didMoveToSuperview));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">__attribute__((constructor)) <span class="keyword">static</span> <span class="keyword">void</span> FTGBorderConstructor(<span class="keyword">void</span>) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        swizzle();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - UIView</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">UIView</span> (<span class="title">FTGBorder</span>)</span></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">UIView</span> (<span class="title">FTGBorder</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)ftg_didMoveToSuperview &#123;</span><br><span class="line">    <span class="keyword">self</span>.layer.borderWidth = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">self</span>.layer.borderColor = [<span class="built_in">UIColor</span> brownColor].CGColor;</span><br><span class="line"></span><br><span class="line">    [<span class="keyword">self</span> ftg_didMoveToSuperview];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://stackoverflow.com/questions/2053029/how-exactly-does-attribute-constructor-work" target="_blank" rel="external">How exactly does <strong>attribute</strong>((constructor)) work?</a></li>
<li><a href="https://blog.twitter.com/2014/attribute-directives-in-objective-c" target="_blank" rel="external"><strong>attribute</strong> directives in Objective-C</a></li>
<li><a href="http://nshipster.com/__attribute__/" target="_blank" rel="external"><strong>attribute</strong></a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/11/04/show-layout-bounds-in-ios/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/04/library-not-found-for-lpods/" title="Library not found for -lPods" itemprop="url">Library not found for -lPods</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-11-04T16:23:48.000Z" itemprop="datePublished"> Published 2015-11-04</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>I’m changing an old Objective C project to build with Xcode 7 and support 64bit. As you already know, iOS is moving really fast and there’s more requirements added every year</p>
<ul>
<li><a href="https://developer.apple.com/news/?id=04082015a" target="_blank" rel="external">64-bit Requirement for App Updates</a></li>
<li><a href="http://ste.vn/2015/06/10/configuring-app-transport-security-ios-9-osx-10-11/" target="_blank" rel="external">Configuring App Transport Security Exceptions in iOS 9 and OSX 10.11</a></li>
<li><a href="https://medium.com/@FredericJacobs/why-i-m-not-enabling-bitcode-f35cd8fbfcc5" target="_blank" rel="external">Why I’m not enabling Bitcode</a></li>
<li><a href="http://www.appcoda.com/app-thinning/" target="_blank" rel="external">Working with App Thinning in iOS 9</a></li>
</ul>
<p>My app uses HockeySDK and Crashlytics, so I use Cocoapods to streamline the process.</p>
<p>After <code>pod install</code></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pod <span class="string">'HockeySDK'</span>, <span class="string">'~&gt; 3.8'</span></span><br><span class="line">pod <span class="string">'Fabric'</span>, <span class="string">'~&gt; 1.5'</span></span><br><span class="line">pod <span class="string">'Crashlytics'</span>, <span class="string">'~&gt; 3.3'</span></span><br></pre></td></tr></table></figure>
<p>For now, <a href="https://github.com/CocoaPods/Specs/blob/master/Specs/Crashlytics/3.3.4/Crashlytics.podspec.json" target="_blank" rel="external">Crashlytics podspec</a> does not declare that it depends on <code>Fabric</code>, but in fact it does. So we need to to declare Fabric</p>
<h2 id="Library-not-found-for-lPods"><a href="#Library-not-found-for-lPods" class="headerlink" title="Library not found for -lPods"></a>Library not found for -lPods</h2><p>Firstly, I get this famous linker error <code>Library not found for -lPods</code></p>
<p>Most of the time, it is because our app can’t link against the library that Cocoapods has generated</p>
<p>I outline many solutions here <a href="https://github.com/onmyway133/ios-issues/issues/27" target="_blank" rel="external">Library not found for -lPods</a></p>
<h2 id="inherited"><a href="#inherited" class="headerlink" title="$(inherited)"></a>$(inherited)</h2><p>In my case, my fixes are to add <code>$(inherited)</code> to the following places in target <code>Build Settings</code></p>
<ul>
<li>FRAMEWORK_SEARCH_PATHS (Framework Search Paths)</li>
<li>HEADER_SEARCH_PATHS (Header Search Paths)</li>
<li>LIBRARY_SEARCH_PATHS (Library Search Paths)</li>
<li>OTHER_LDFLAGS (Other Linker Flags)</li>
<li>GCC_PREPROCESSOR_DEFINITIONS (Preprocessor Macros)</li>
</ul>
<p>And</p>
<blockquote>
<p>Ensure that Build Active Architectures Only settings for both of your project and the Pods project were equal for debug and release configuration!</p>
</blockquote>
<p>Since Cocoapods target sets Debug configuration to NO, so I have to set my app target Debug configuration to NO, too</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/11/04/library-not-found-for-lpods/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/01/ios-stretchy-header-with-auto-layout/" title="iOS Stretchy Header with Auto Layout" itemprop="url">iOS Stretchy Header with Auto Layout</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-11-01T17:11:17.000Z" itemprop="datePublished"> Published 2015-11-01</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Stretchy header is cool. People are familiar with changing frames to achieve this, like <a href="http://blog.matthewcheok.com/design-teardown-stretchy-headers/" target="_blank" rel="external">Design Teardown: Stretchy Headers</a>. But with Auto Layout, we can achieve this with much nicer declarative constraints</p>
<p>The demo project is <a href="https://github.com/onmyway133/StretchyHeader" target="_blank" rel="external">StretchyHeader</a></p>
<p><img src="https://github.com/onmyway133/StretchyHeader/raw/master/Assets/Demo.gif" alt=""></p>
<p>I use <a href="https://github.com/SnapKit/SnapKit" target="_blank" rel="external">SnapKit</a> to make it clear what constraints we need</p>
<h2 id="scrollView"><a href="#scrollView" class="headerlink" title="scrollView"></a>scrollView</h2><p>The <code>scrollView</code> should pin its 4 edges to the <code>ViewController &#39;s view</code><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setupScrollView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        scrollView = <span class="type">UIScrollView</span>()</span><br><span class="line">        scrollView.delegate = <span class="keyword">self</span></span><br><span class="line"></span><br><span class="line">        view.addSubview(scrollView)</span><br><span class="line">        scrollView.snp_makeConstraints &#123; make <span class="keyword">in</span></span><br><span class="line">            make.edges.equalTo(view)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="scrollViewContentView"><a href="#scrollViewContentView" class="headerlink" title="scrollViewContentView"></a>scrollViewContentView</h2><p>The <code>scrollViewContentView</code> must pin its 4 edges to the <code>scrollView</code> to help determine <code>scrollView</code> <code>contentSize</code></p>
<p>The height of <code>scrollViewContentView</code> is determined by its subviews. The subviews inside must pin their <code>top</code> and <code>bottom</code> to the <code>scrollViewContentView</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setupScrollViewContentView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        scrollViewContentView = <span class="type">UIView</span>()</span><br><span class="line"></span><br><span class="line">        scrollView.addSubview(scrollViewContentView)</span><br><span class="line">        scrollViewContentView.snp_makeConstraints &#123; make <span class="keyword">in</span></span><br><span class="line">            make.edges.equalTo(scrollView)</span><br><span class="line">            make.width.equalTo(view.snp_width)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="header"><a href="#header" class="headerlink" title="header"></a>header</h2><p>The <code>header</code> must pin its top to the <code>scrollView</code> parent, which is the <code>ViewController &#39;s view</code></p>
<p>Read the <code>title</code> section, you ‘ll see that in order to make <code>header</code> stretchy, it must be pinned top and bottom</p>
<p>But if we scroll up, there will be a constraint conflict between these pinned <code>top</code> and <code>bottom</code> constraints</p>
<p>So we must declare <code>headerTopConstraint</code> priority as 999, and <code>headerLessThanTopConstraint</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setupHeader</span><span class="params">()</span></span> &#123;</span><br><span class="line">        header = <span class="type">UIImageView</span>()</span><br><span class="line">        header.image = <span class="type">UIImage</span>(named: <span class="string">"onepiece"</span>)!</span><br><span class="line"></span><br><span class="line">        scrollViewContentView.addSubview(header)</span><br><span class="line">        header.snp_makeConstraints &#123; make <span class="keyword">in</span></span><br><span class="line">            <span class="comment">// Pin header to scrollView 's parent, which is now ViewController 's view</span></span><br><span class="line">            <span class="comment">// When header is moved up, headerTopConstraint is not enough, so make its priority 999, and add another less than or equal constraint</span></span><br><span class="line">            make.leading.trailing.equalTo(scrollViewContentView)</span><br><span class="line">            <span class="keyword">self</span>.headerTopConstraint =  make.top.equalTo(view.snp_top).priority(<span class="number">999</span>).constraint</span><br><span class="line">            <span class="keyword">self</span>.headerLessThanTopConstraint = make.top.lessThanOrEqualTo(view.snp_top).constraint</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="title"><a href="#title" class="headerlink" title="title"></a>title</h2><p>The <code>title</code> must pin its top to the <code>scrollViewContentView</code> to help determine <code>scrollViewContentView</code> height</p>
<p>The <code>title</code> must also pin its top the <code>header</code> bottom in order to make <code>header</code> stretchy</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setupTitleLabel</span><span class="params">()</span></span> &#123;</span><br><span class="line">        titleLabel = <span class="type">UILabel</span>()</span><br><span class="line">        titleLabel.numberOfLines = <span class="number">0</span></span><br><span class="line">        titleLabel.font = <span class="type">UIFont</span>.preferredFontForTextStyle(<span class="type">UIFontTextStyleTitle1</span>)</span><br><span class="line">        titleLabel.text = <span class="string">"One Piece"</span></span><br><span class="line"></span><br><span class="line">        scrollViewContentView.addSubview(titleLabel)</span><br><span class="line">        titleLabel.snp_makeConstraints &#123; make <span class="keyword">in</span></span><br><span class="line">            make.leading.equalTo(scrollViewContentView).offset(<span class="number">20</span>)</span><br><span class="line">            make.trailing.equalTo(scrollViewContentView).offset(-<span class="number">20</span>)</span><br><span class="line">            <span class="comment">// Pin to the header to make it stretchy</span></span><br><span class="line">            make.top.equalTo(header.snp_bottom).offset(<span class="number">20</span>)</span><br><span class="line">            <span class="comment">// Pin to the content view to help determine scrollView contentSize</span></span><br><span class="line">            make.top.equalTo(scrollViewContentView.snp_top).offset(headerHeight)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="scrollViewDidScroll"><a href="#scrollViewDidScroll" class="headerlink" title="scrollViewDidScroll"></a>scrollViewDidScroll</h2><p>The header is always pinned to the top, unless you adjust it, here in <code>scrollViewDidScroll</code></p>
<p>Here I use <code>Constraint</code>, which is a class from <code>SnapKit</code>, but the idea is to change the <code>constant</code> of the <code>NSLayoutConstraint</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidScroll</span><span class="params">(scrollView: UIScrollView)</span></span> &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> headerTopConstraint = headerTopConstraint,</span><br><span class="line">            headerLessThanTopConstraint = headerLessThanTopConstraint</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> y = scrollView.contentOffset.y</span><br><span class="line">        <span class="keyword">let</span> offset = y &gt; <span class="number">0</span> ? -y : <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        headerLessThanTopConstraint.updateOffset(offset)</span><br><span class="line">        headerTopConstraint.updateOffset(offset)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>By the way, did you just learn the story of One Piece :]</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://blog.domesticcat.com.au/ios/2014/03/19/creating-parallax-effect-on-uiscrollview-using-simple-constraints/" target="_blank" rel="external">Creating parallax effect on UIScrollView using constraints</a></li>
<li><a href="https://github.com/BillCarsonFr/ScrollviewParallax" target="_blank" rel="external">ScrollviewParallax</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/11/01/ios-stretchy-header-with-auto-layout/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/01/optional-protocol-in-swift/" title="Optional protocol in Swift" itemprop="url">Optional protocol in Swift</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-11-01T02:46:36.000Z" itemprop="datePublished"> Published 2015-11-01</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Swift supports optional protocol via <code>@objc</code> keyword, like <a href="http://en.swifter.tips/objc-protocol/" target="_blank" rel="external">OPTIONAL PROTOCOL</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span> <span class="class"><span class="keyword">protocol</span> <span class="title">OptionalProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">optionalMethod</span><span class="params">()</span></span>         <span class="comment">// Optional</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">necessaryMethod</span><span class="params">()</span></span>                 <span class="comment">// Required</span></span><br><span class="line">    <span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">anotherOptionalMethod</span><span class="params">()</span></span>  <span class="comment">// Optional</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If there’s Enum, Tuple (which are not available in Objective C) in your protocol methods, then this @objc trick does not work</p>
<p>Luckily, Swift 2 supports Protocol Extension, which we can use to provide default implementation. So the conformance only has to implement the methods that it truly needs</p>
<p>Take a look at <a href="https://github.com/onmyway133/Cine/blob/master/Pod/Classes/Helper/PlayerDelegate.swift" target="_blank" rel="external">PlayerDelegate</a> in my <a href="https://github.com/onmyway133/Cine" target="_blank" rel="external">Cine</a></p>
<p>You need to mark your protocol extension <code>public</code> in order for your consumer to use it</p>
<p><code>PlayerDelegate.swift</code><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">PlayerDelegate</span> : <span class="title">class</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">player</span><span class="params">(player: Player, didChangeStatus status: Status)</span></span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">player</span><span class="params">(player: Player, didChangePlaybackState state: PlaybackState)</span></span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">player</span><span class="params">(player: Player, didChangeLoadState state: LoadState)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">player</span><span class="params">(player: Player, didFinishWithResult: Result)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playerDidChangeCurrentItem</span><span class="params">(player: Player)</span></span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playerDidLoadDuration</span><span class="params">(player: Player)</span></span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playerDidTick</span><span class="params">(player: Player)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playerDidBeginSeeking</span><span class="params">(player: Player)</span></span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playerDidEndSeeking</span><span class="params">(player: Player)</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">extension</span> <span class="title">PlayerDelegate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">player</span><span class="params">(player: Player, didChangeStatus status: Status)</span></span> &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">player</span><span class="params">(player: Player, didChangePlaybackState state: PlaybackState)</span></span> &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">player</span><span class="params">(player: Player, didChangeLoadState state: LoadState)</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">player</span><span class="params">(player: Player, didFinishWithResult: Result)</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playerDidChangeCurrentItem</span><span class="params">(player: Player)</span></span> &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playerDidLoadDuration</span><span class="params">(player: Player)</span></span> &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playerDidTick</span><span class="params">(player: Player)</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playerDidBeginSeeking</span><span class="params">(player: Player)</span></span> &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playerDidEndSeeking</span><span class="params">(player: Player)</span></span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/11/01/optional-protocol-in-swift/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/10/31/lighter-appdelegate/" title="Lighter AppDelegate" itemprop="url">Lighter AppDelegate</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2015-10-31T15:55:04.000Z" itemprop="datePublished"> Published 2015-10-31</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>There is <a href="https://www.objc.io/issues/1-view-controllers/lighter-view-controllers/" target="_blank" rel="external">Lighter View Controllers</a>, and there is Lighter AppDelegate, too</p>
<p>Since working with iOS, I really like the delegate pattern, in which it helps us defer the decision to another party.</p>
<p>The iOS application delegates its event to AppDelegate, which over time will be a big mess. Usually, the AppDelegate is where you put your root view controller setup, crash tracking, push notification, debugging, … and we just somehow violent the Single Responsibility principle. Moreover, it makes us hard to reason about code in AppDelegate</p>
<h2 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h2><p>I like to think of each task in AppDelegate as a service. And the AppDelegate distributes the events into each service via ServiceDispatcher. Simple plain old composition and looping</p>
<p>I tend to have RootService as a place to setup root view controllers</p>
<p>It looks like this</p>
<p><code>ServiceDispatcher.swift</code><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServiceDispatcher</span> : <span class="title">NSObject</span>, <span class="title">UIApplicationDelegate</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> services: [<span class="type">UIApplicationDelegate</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(services: [<span class="type">UIApplicationDelegate</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.services = services</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication,</span><br><span class="line">        didFinishLaunchingWithOptions launchOptions: [NSObject : AnyObject]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line"></span><br><span class="line">        services.forEach &#123; service <span class="keyword">in</span></span><br><span class="line">            service.application?(application, didFinishLaunchingWithOptions: launchOptions)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationDidBecomeActive</span><span class="params">(application: UIApplication)</span></span> &#123;</span><br><span class="line">        services.forEach &#123; service <span class="keyword">in</span></span><br><span class="line">            service.applicationDidBecomeActive?(application)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationWillResignActive</span><span class="params">(application: UIApplication)</span></span> &#123;</span><br><span class="line">        services.forEach &#123; service <span class="keyword">in</span></span><br><span class="line">            service.applicationWillResignActive?(application)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationWillEnterForeground</span><span class="params">(application: UIApplication)</span></span> &#123;</span><br><span class="line">        services.forEach &#123; service <span class="keyword">in</span></span><br><span class="line">            service.applicationWillEnterForeground?(application)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationDidEnterBackground</span><span class="params">(application: UIApplication)</span></span> &#123;</span><br><span class="line">        services.forEach &#123; service <span class="keyword">in</span></span><br><span class="line">            service.applicationDidEnterBackground?(application)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>RootService.swift</code><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RootService</span> : <span class="title">NSObject</span>, <span class="title">UIApplicationDelegate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication,</span><br><span class="line">        didFinishLaunchingWithOptions launchOptions: [NSObject : AnyObject]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line"></span><br><span class="line">        appDelegate().window = <span class="type">UIWindow</span>(frame: <span class="type">UIScreen</span>.mainScreen().bounds)</span><br><span class="line">        showHome()</span><br><span class="line">        appDelegate().window?.makeKeyAndVisible()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">RootService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">showHome</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> home = <span class="type">HomeWireframe</span>().makeHome()</span><br><span class="line">        <span class="keyword">let</span> navC = <span class="type">UINavigationController</span>(rootViewController: home!)</span><br><span class="line">        appDelegate().window?.rootViewController = navC</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">RootService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">appDelegate</span><span class="params">()</span></span> -&gt; <span class="type">AppDelegate</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">UIApplication</span>.sharedApplication().delegate <span class="keyword">as</span>! <span class="type">AppDelegate</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>AppDelegate.swift</code><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@UIApplicationMain</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppDelegate</span>: <span class="title">UIResponder</span>, <span class="title">UIApplicationDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> window: <span class="type">UIWindow</span>?</span><br><span class="line">    <span class="keyword">let</span> serviceDispatcher = <span class="type">ServiceDispatcher</span>(services: [<span class="type">RootService</span>()])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line"></span><br><span class="line">        serviceDispatcher.application(application, didFinishLaunchingWithOptions: launchOptions)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationWillResignActive</span><span class="params">(application: UIApplication)</span></span> &#123;</span><br><span class="line">        serviceDispatcher.applicationWillResignActive(application)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationDidEnterBackground</span><span class="params">(application: UIApplication)</span></span> &#123;</span><br><span class="line">        serviceDispatcher.applicationDidEnterBackground(application)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationWillEnterForeground</span><span class="params">(application: UIApplication)</span></span> &#123;</span><br><span class="line">        serviceDispatcher.applicationWillEnterForeground(application)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationDidBecomeActive</span><span class="params">(application: UIApplication)</span></span> &#123;</span><br><span class="line">        serviceDispatcher.applicationDidBecomeActive(application)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>I have more services like DebugService, PushNotificationService, CrashTrackingService, …</p>
<p>The downside to this approach is that in real life, there will be dependencies between those services, like that UserService must be called before RootService? In this case, I have to use comment to explain why I have that decision, which is hard for newcomers to understand at first. Take a look at <a href="http://christiantietze.de/posts/2015/10/bootstrapping-appdelegate/" target="_blank" rel="external">How to Move Bootstrapping Code Out of AppDelegate</a> for how dependencies are managed</p>
<p><a href="https://github.com/JaviSoto/JSDecoupledAppDelegate" target="_blank" rel="external">JSDecoupledAppDelegate</a> comes with another approach, in which service events are named according to the functions, like <code>appStateDelegate</code>, <code>appDefaultOrientationDelegate</code>, <code>watchInteractionDelegate</code>, …</p>
<p>But for me, Service and ServiceDispatcher suit my need</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://sizeof.io/service-oriented-appdelegate/" target="_blank" rel="external">SERVICE-ORIENTED APPDELEGATE</a></li>
<li><a href="https://github.com/JaviSoto/JSDecoupledAppDelegate" target="_blank" rel="external">JSDecoupledAppDelegate</a></li>
<li><a href="http://christiantietze.de/posts/2015/10/bootstrapping-appdelegate/" target="_blank" rel="external">How to Move Bootstrapping Code Out of AppDelegate</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/10/31/lighter-appdelegate/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/2/"><span></span>Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/4/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github Card</p>
<div class="github-card" data-github="onmyway133" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java-Script/" title="Java Script">Java Script<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Life/" title="Life">Life<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Miscellaneous/" title="Miscellaneous">Miscellaneous<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Mobile-Labs/" title="Mobile Labs">Mobile Labs<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Others/" title="Others">Others<sup>26</sup></a></li>
		  
		
		  
			<li><a href="/categories/Programming/" title="Programming">Programming<sup>10</sup></a></li>
		  
		
		  
			<li><a href="/categories/Others/Windows-8/" title="Windows 8">Windows 8<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-8/" title="Windows 8">Windows 8<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-Phone/" title="Windows Phone">Windows Phone<sup>12</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-8/Windows-Phone/" title="Windows Phone">Windows Phone<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS<sup>84</sup></a></li>
		  
		
		  
			<li><a href="/categories/programming/" title="programming">programming<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/ios/" title="ios">ios<sup>20</sup></a></li>
			
		
			
				<li><a href="/tags/wp7/" title="wp7">wp7<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/mac-osx/" title="mac osx">mac osx<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/tutorial/" title="tutorial">tutorial<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/wp8/" title="wp8">wp8<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/android/" title="android">android<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C">C<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/windows-8/" title="windows 8">windows 8<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/convert/" title="convert">convert<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/build/" title="build">build<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/disable/" title="disable">disable<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/visual-studio/" title="visual studio">visual studio<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/svn/" title="svn">svn<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/programming/" title="programming">programming<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/openssl/" title="openssl">openssl<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/xcode/" title="xcode">xcode<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/file/" title="file">file<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/facebook/" title="facebook">facebook<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/voip/" title="voip">voip<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/project/" title="project">project<sup>3</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> A dream is not a dream anymore when you don&#39;t have time for it <br/>
			What you don&#39;t know is what you haven&#39;t learned</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/onmyway133" target="_blank" class="icon-github" title="github"></a>
		
		
		<a href="http://stackoverflow.com/users/1418457/onmyway133" target="_blank" class="icon-stack-overflow" title="stackoverflow"></a>
		
		
		<a href="https://twitter.com/onmyway133" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		
		
		
		
		
		<a href="mailto:onmyway133@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="Khoa Pham">Khoa Pham</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-40119591-1', 'fantageek.com');  
ga('send', 'pageview');
</script>





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
