
 <!DOCTYPE HTML>
<html lang="English">
<head>
  <meta charset="UTF-8">
  
    <title>Handling reachability in iOS | Fantageek</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Khoa Pham">
    

    
    <meta name="description" content="Here are what I learn about reachability handling in iOS, aka checking for internet connection. Hope you will find it useful, too
The naive waySome API you already know in UIKit can be used for checki">
<meta property="og:type" content="article">
<meta property="og:title" content="Handling reachability in iOS">
<meta property="og:url" content="http://www.fantageek.com/2014/08/18/handle-reachability-in-ios/index.html">
<meta property="og:site_name" content="Fantageek">
<meta property="og:description" content="Here are what I learn about reachability handling in iOS, aka checking for internet connection. Hope you will find it useful, too
The naive waySome API you already know in UIKit can be used for checki">
<meta property="og:updated_time" content="2016-04-14T19:30:36.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Handling reachability in iOS">
<meta name="twitter:description" content="Here are what I learn about reachability handling in iOS, aka checking for internet connection. Hope you will find it useful, too
The naive waySome API you already know in UIKit can be used for checki">

    
    <link rel="alternative" href="/atom.xml" title="Fantageek" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Fantageek" title="Fantageek"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Fantageek">Fantageek</a></h1>
				<h2 class="blog-motto">Simple apps that make sense</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:www.fantageek.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/08/18/handle-reachability-in-ios/" title="Handling reachability in iOS" itemprop="url">Handling reachability in iOS</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Khoa Pham" target="_blank" itemprop="author">Khoa Pham</a>
		
  <p class="article-time">
    <time datetime="2014-08-18T06:57:48.000Z" itemprop="datePublished"> Published 2014-08-18</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		
			<ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#The-naive-way"><span class="toc-number">1.</span> <span class="toc-text">The naive way</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Using-SystemConfiguration-framework"><span class="toc-number">2.</span> <span class="toc-text">Using SystemConfiguration framework</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Using-some-libraries"><span class="toc-number">3.</span> <span class="toc-text">Using some libraries</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Reachability"><span class="toc-number">4.</span> <span class="toc-text">Reachability</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AFNetworkReachabilityManager"><span class="toc-number">5.</span> <span class="toc-text">AFNetworkReachabilityManager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#isReachableViaWWAN-vs-isReachableViaWiFi"><span class="toc-number">6.</span> <span class="toc-text">isReachableViaWWAN vs isReachableViaWiFi</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#How-to-use-AFNetworkReachabilityManager"><span class="toc-number">7.</span> <span class="toc-text">How to use AFNetworkReachabilityManager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Reference"><span class="toc-number">8.</span> <span class="toc-text">Reference</span></a></li></ol>
		
		</div>
		
		<p>Here are what I learn about reachability handling in iOS, aka checking for internet connection. Hope you will find it useful, too</p>
<h4 id="The-naive-way"><a href="#The-naive-way" class="headerlink" title="The naive way"></a>The naive way</h4><p>Some API you already know in UIKit can be used for checking internet connection. Most of them a synchronous code, so you ‘d better call them in a background thread</p>
<a id="more"></a>
<p>[code language=”objc”]</p>
<ul>
<li><p>(BOOL)connectedToInternet<br>{<br>  NSString *string = [NSString stringWithContentsOfURL:[NSURL URLWithString:@”<a href="http://www.google.com" target="_blank" rel="external">http://www.google.com</a>“]</p>
<pre><code>encoding:NSUTF8StringEncoding
   error:nil];
</code></pre><p>  return string ? YES : NO;<br>}<br>[/code]</p>
</li>
</ul>
<p>[code language=”objc”]</p>
<ul>
<li><p>(BOOL)connectedToInternet<br>{<br> NSURL <em>url = [NSURL URLWithString:@”<a href="http://www.google.com" target="_blank" rel="external">http://www.google.com</a>“];<br> NSMutableURLRequest </em>request = [NSMutableURLRequest requestWithURL:url];<br> [request setHTTPMethod:@”HEAD”];<br> NSHTTPURLResponse *response;<br> [NSURLConnection sendSynchronousRequest:request returningResponse:&amp;response error: NULL];</p>
<p> return ([response statusCode] == 200) ? YES : NO;<br>}<br>[/code]</p>
</li>
</ul>
<h4 id="Using-SystemConfiguration-framework"><a href="#Using-SystemConfiguration-framework" class="headerlink" title="Using SystemConfiguration framework"></a>Using SystemConfiguration framework</h4><p>After importing the SystemConfiguration framework, you can use either SCNetworkReachabilityGetFlags to synchronously get the reachability status, or provide a callback to SCNetworkReachabilitySetCallback to be notified about reachability status change.</p>
<p>Note that SCNetworkReachabilityGetFlags is synchronous.</p>
<blockquote>The System Configuration framework reachability API () operates synchronously by default. Thus, seemingly innocuous routines like SCNetworkReachabilityGetFlags can get you killed by the watchdog. If you’re using the reachability API, you should use it asynchronously. This involves using the SCNetworkReachabilityScheduleWithRunLoop routine to schedule your reachability queries on the run loop<br></blockquote>



<p>[code language=”objc”]</p>
<ul>
<li><p>(BOOL) isConnectionAvailable<br>{<br>  SCNetworkReachabilityFlags flags;</p>
<pre><code>BOOL receivedFlags;

SCNetworkReachabilityRef reachability = SCNetworkReachabilityCreateWithName(CFAllocatorGetDefault(), [@&quot;dipinkrishna.com&quot; UTF8String]);
receivedFlags = SCNetworkReachabilityGetFlags(reachability, &amp;flags);
CFRelease(reachability);

if (!receivedFlags || (flags == 0) )
{
    return FALSE;
} else {
return TRUE;
</code></pre><p>  }<br>}<br>[/code]</p>
</li>
</ul>
<p>Note that SCNetworkReachabilitySetCallback notifies only when reachability status changes</p>
<blockquote>Assigns a client to the specified target, which receives callbacks when the reachability of the target changes.</blockquote>





<h4 id="Using-some-libraries"><a href="#Using-some-libraries" class="headerlink" title="Using some libraries"></a>Using some libraries</h4><p>Libraries make our life easier, but to live well with them, you must surely understand them. There are many reachability libraries on Github, but here I want to mention the most popular: Reachability from tonymillion and AFNetworkReachabilityManager (a sub module of AFNetworking) from mattt. Both use SystemConfiguration under the hood.</p>
<h4 id="Reachability"><a href="#Reachability" class="headerlink" title="Reachability"></a>Reachability</h4><p>Some people use Reachability like this</p>
<p>[code language=”objc”]</p>
<ul>
<li><p>(void)testInternetConnection<br>{<br>  internetReachableFoo = [Reachability reachabilityWithHostname:@”www.google.com”];</p>
<p>  // Internet is reachable<br>  internetReachableFoo.reachableBlock = ^(Reachability*reach)<br>  {</p>
<pre><code>// Update the UI on the main thread
dispatch_async(dispatch_get_main_queue(), ^{
    NSLog(@&quot;Yayyy, we have the interwebs!&quot;);
});
</code></pre><p>  };</p>
<p>  // Internet is not reachable<br>  internetReachableFoo.unreachableBlock = ^(Reachability*reach)<br>  {</p>
<pre><code>// Update the UI on the main thread
dispatch_async(dispatch_get_main_queue(), ^{
    NSLog(@&quot;Someone broke the internet :(&quot;);
});
</code></pre><p>  };</p>
<p>  [internetReachableFoo startNotifier];<br>}<br>[/code]</p>
</li>
</ul>
<p>Looking into the method “startNotifier”, you will see that it only uses SCNetworkReachabilitySetCallback and it means this callback will only be called if reachability status changes.</p>
<p>If you want to know the reachability status directly, for example, the reachability status at app launch, you must use the method “isReachable”. This method under the hood uses SCNetworkReachabilityGetFlags which is synchronous, and it locks the calling thread.</p>
<p>Reachability has reachabilityForLocalWiFi, which is interesting :)</p>
<p>[code language=”objc”]<br>+(Reachability*)reachabilityForLocalWiFi<br>{<br>    struct sockaddr_in localWifiAddress;<br>    bzero(&amp;localWifiAddress, sizeof(localWifiAddress));<br>    localWifiAddress.sin_len            = sizeof(localWifiAddress);<br>    localWifiAddress.sin_family         = AF_INET;<br>    // IN_LINKLOCALNETNUM is defined in <netinet in.h=""> as 169.254.0.0<br>    localWifiAddress.sin_addr.s_addr    = htonl(IN_LINKLOCALNETNUM);</netinet></p>
<pre><code>return [self reachabilityWithAddress:&amp;localWifiAddress];
</code></pre><p>}<br>[/code]</p>
<h4 id="AFNetworkReachabilityManager"><a href="#AFNetworkReachabilityManager" class="headerlink" title="AFNetworkReachabilityManager"></a>AFNetworkReachabilityManager</h4><p>With AFNetworkReachabilityManager, all you have to do is</p>
<p>[code language=”objc”]</p>
<ul>
<li>(void)trackInternetConnection<br>{<br>  [[AFNetworkReachabilityManager sharedManager] startMonitoring];<br>  [[AFNetworkReachabilityManager sharedManager] setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) {<pre><code>// Handle the status
</code></pre>  }];<br>}<br>[/code]</li>
</ul>
<p>What is nice about AFNetworkReachabilityManager is that in the “startMonitoring” method, it both uses SCNetworkReachabilitySetCallback and calls AFNetworkReachabilityStatusForFlags to get the initial reachability status in a background thread, and calls the AFNetworkReachabilityStatusBlock. So in the user ‘s point of view, all we care about is the AFNetworkReachabilityStatusBlock handler.</p>
<p>AFNetworking has all the features that Reachability has, and its code is well structured. Another cool thing about it is that it is already in your AFNetworking pod. It’s hard to find projects without AFNetworking these days</p>
<h4 id="isReachableViaWWAN-vs-isReachableViaWiFi"><a href="#isReachableViaWWAN-vs-isReachableViaWiFi" class="headerlink" title="isReachableViaWWAN vs isReachableViaWiFi"></a>isReachableViaWWAN vs isReachableViaWiFi</h4><p>Take a look at the method AFNetworkReachabilityStatusForFlags and you will know the story</p>
<p>[code language=”objc”]<br>static AFNetworkReachabilityStatus AFNetworkReachabilityStatusForFlags(SCNetworkReachabilityFlags flags) {<br>    […]<br>    status = AFNetworkReachabilityStatusUnknown;<br>    if (isNetworkReachable == NO) {<br>        status = AFNetworkReachabilityStatusNotReachable;<br>    }</p>
<p>#if    TARGET_OS_IPHONE<br>    else if ((flags &amp; kSCNetworkReachabilityFlagsIsWWAN) != 0) {<br>        status = AFNetworkReachabilityStatusReachableViaWWAN;<br>    }</p>
<p>#endif<br>    else {<br>        status = AFNetworkReachabilityStatusReachableViaWiFi;<br>    }</p>
<pre><code>return status;
</code></pre><p>}<br>[/code]</p>
<p>isReachableViaWWAN is supposed to be for iOS Device</p>
<h4 id="How-to-use-AFNetworkReachabilityManager"><a href="#How-to-use-AFNetworkReachabilityManager" class="headerlink" title="How to use AFNetworkReachabilityManager"></a>How to use AFNetworkReachabilityManager</h4><p>I’ve asked a question here <a href="https://github.com/AFNetworking/AFNetworking/issues/2262" target="_blank" rel="external">Issue 2262</a>, you should take a look at it</p>
<p>The safe way is not to use the sharedManager, but use managerForDomain</p>
<p>[code language=”objc”]<br>AFNetworkReachabilityManager *afReachability = [AFNetworkReachabilityManager managerForDomain:@”www.google.com”];<br>    [afReachability setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) {<br>        if (status &lt; AFNetworkReachabilityStatusReachableViaWWAN) {<br>            [FTGAlertView showMessage:@”No internet connection”];<br>        }<br>    }];</p>
<pre><code>[afReachability startMonitoring];
</code></pre><p>[/code]</p>
<p>You should read the question 7 and 8 in the Reference below to know more about SCNetworkReachabilityCreateWithName vs SCNetworkReachabilityCreateWithAddress, and about the zero address</p>
<h4 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h4><ol>
<li><a href="https://github.com/tonymillion/Reachability" target="_blank" rel="external">Reachability</a></li>
</ol>
<ol>
<li><a href="https://github.com/AFNetworking/AFNetworking/blob/master/AFNetworking/AFNetworkReachabilityManager.m" target="_blank" rel="external">AFNetworkReachabilityManager</a></li>
</ol>
<ol>
<li><a href="http://stackoverflow.com/questions/24535842/how-to-check-for-internet-connection-synchronously/25133851#25133851" target="_blank" rel="external">How to check for internet connection synchronously?</a></li>
</ol>
<ol>
<li><a href="http://dipinkrishna.com/blog/2012/04/ios-check-internet-connection/" target="_blank" rel="external">iOS: Check whether internet connection is available</a></li>
</ol>
<ol>
<li><a href="http://ios-blog.co.uk/tutorials/check-if-active-internet-connection-exists-on-ios-device/" target="_blank" rel="external">Check if Active Internet Connection Exists on iOS Device</a></li>
</ol>
<ol>
<li><a href="https://developer.apple.com/library/ios/qa/qa1693/_index.html" target="_blank" rel="external">Technical Q&amp;A QA1693 Synchronous Networking On The Main Thread</a></li>
</ol>
<ol>
<li><a href="http://stackoverflow.com/a/11314946/1418457" target="_blank" rel="external">How to check for network reachability on iOS in a non-blocking manner?</a></li>
</ol>
<ol>
<li><a href="http://stackoverflow.com/questions/16508685/understanding-inaddr-any-for-socket-programming-c" target="_blank" rel="external">understanding INADDR_ANY for socket programming - c</a></li>
</ol>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/iOS/">iOS</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/ios/">ios</a><a href="/tags/reachability/">reachability</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://www.fantageek.com/2014/08/18/handle-reachability-in-ios/" data-title="Handling reachability in iOS | Fantageek" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/08/19/android-xml-drawables-tips-and-tricks-part-4-layerdrawable/" title="Android XML drawables Tips - Part 4: LayerDrawable">
  <strong>上一篇：</strong><br/>
  <span>
  Android XML drawables Tips - Part 4: LayerDrawable</span>
</a>
</div>


<div class="next">
<a href="/2014/08/18/design-pattern-in-ios/"  title="Design Pattern in iOS">
 <strong>下一篇：</strong><br/> 
 <span>Design Pattern in iOS
</span>
</a>
</div>

</nav>

	

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#The-naive-way"><span class="toc-number">1.</span> <span class="toc-text">The naive way</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Using-SystemConfiguration-framework"><span class="toc-number">2.</span> <span class="toc-text">Using SystemConfiguration framework</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Using-some-libraries"><span class="toc-number">3.</span> <span class="toc-text">Using some libraries</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Reachability"><span class="toc-number">4.</span> <span class="toc-text">Reachability</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AFNetworkReachabilityManager"><span class="toc-number">5.</span> <span class="toc-text">AFNetworkReachabilityManager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#isReachableViaWWAN-vs-isReachableViaWiFi"><span class="toc-number">6.</span> <span class="toc-text">isReachableViaWWAN vs isReachableViaWiFi</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#How-to-use-AFNetworkReachabilityManager"><span class="toc-number">7.</span> <span class="toc-text">How to use AFNetworkReachabilityManager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Reference"><span class="toc-number">8.</span> <span class="toc-text">Reference</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java-Script/" title="Java Script">Java Script<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Life/" title="Life">Life<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Miscellaneous/" title="Miscellaneous">Miscellaneous<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Mobile-Labs/" title="Mobile Labs">Mobile Labs<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Others/" title="Others">Others<sup>26</sup></a></li>
		  
		
		  
			<li><a href="/categories/Programming/" title="Programming">Programming<sup>10</sup></a></li>
		  
		
		  
			<li><a href="/categories/Others/Windows-8/" title="Windows 8">Windows 8<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-8/" title="Windows 8">Windows 8<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-Phone/" title="Windows Phone">Windows Phone<sup>12</sup></a></li>
		  
		
		  
			<li><a href="/categories/Windows-8/Windows-Phone/" title="Windows Phone">Windows Phone<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS<sup>84</sup></a></li>
		  
		
		  
			<li><a href="/categories/programming/" title="programming">programming<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/ios/" title="ios">ios<sup>20</sup></a></li>
			
		
			
				<li><a href="/tags/wp7/" title="wp7">wp7<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/mac-osx/" title="mac osx">mac osx<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/tutorial/" title="tutorial">tutorial<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/wp8/" title="wp8">wp8<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/android/" title="android">android<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C">C<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/windows-8/" title="windows 8">windows 8<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/convert/" title="convert">convert<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/visual-studio/" title="visual studio">visual studio<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/disable/" title="disable">disable<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/build/" title="build">build<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/svn/" title="svn">svn<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/file/" title="file">file<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/openssl/" title="openssl">openssl<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/xcode/" title="xcode">xcode<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/programming/" title="programming">programming<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/facebook/" title="facebook">facebook<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/voip/" title="voip">voip<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/project/" title="project">project<sup>3</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2176287895" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="Khoa Pham">Khoa Pham</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
